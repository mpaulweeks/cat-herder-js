var X_=Object.defineProperty;var J_=(t,e,n)=>e in t?X_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var In=(t,e,n)=>(J_(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ch={exports:{}},Ro={},Ih={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=Symbol.for("react.element"),ey=Symbol.for("react.portal"),ty=Symbol.for("react.fragment"),ny=Symbol.for("react.strict_mode"),ry=Symbol.for("react.profiler"),iy=Symbol.for("react.provider"),sy=Symbol.for("react.context"),oy=Symbol.for("react.forward_ref"),ly=Symbol.for("react.suspense"),ay=Symbol.for("react.memo"),uy=Symbol.for("react.lazy"),sd=Symbol.iterator;function cy(t){return t===null||typeof t!="object"?null:(t=sd&&t[sd]||t["@@iterator"],typeof t=="function"?t:null)}var kh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Th=Object.assign,xh={};function br(t,e,n){this.props=t,this.context=e,this.refs=xh,this.updater=n||kh}br.prototype.isReactComponent={};br.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};br.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nh(){}Nh.prototype=br.prototype;function yu(t,e,n){this.props=t,this.context=e,this.refs=xh,this.updater=n||kh}var vu=yu.prototype=new Nh;vu.constructor=yu;Th(vu,br.prototype);vu.isPureReactComponent=!0;var od=Array.isArray,Dh=Object.prototype.hasOwnProperty,wu={current:null},Rh={key:!0,ref:!0,__self:!0,__source:!0};function Ph(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Dh.call(e,r)&&!Rh.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Gi,type:t,key:s,ref:o,props:i,_owner:wu.current}}function dy(t,e){return{$$typeof:Gi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Su(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gi}function fy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ld=/\/+/g;function ul(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fy(""+t.key):e.toString(36)}function ks(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gi:case ey:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ul(o,0):r,od(i)?(n="",t!=null&&(n=t.replace(ld,"$&/")+"/"),ks(i,e,n,"",function(u){return u})):i!=null&&(Su(i)&&(i=dy(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ld,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",od(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+ul(s,l);o+=ks(s,e,n,a,i)}else if(a=cy(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+ul(s,l++),o+=ks(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function os(t,e,n){if(t==null)return t;var r=[],i=0;return ks(t,r,"","",function(s){return e.call(n,s,i++)}),r}function hy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fe={current:null},Ts={transition:null},py={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:wu};V.Children={map:os,forEach:function(t,e,n){os(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return os(t,function(){e++}),e},toArray:function(t){return os(t,function(e){return e})||[]},only:function(t){if(!Su(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=br;V.Fragment=ty;V.Profiler=ry;V.PureComponent=yu;V.StrictMode=ny;V.Suspense=ly;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=py;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Th({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Dh.call(e,a)&&!Rh.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Gi,type:t.type,key:i,ref:s,props:r,_owner:o}};V.createContext=function(t){return t={$$typeof:sy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iy,_context:t},t.Consumer=t};V.createElement=Ph;V.createFactory=function(t){var e=Ph.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:oy,render:t}};V.isValidElement=Su;V.lazy=function(t){return{$$typeof:uy,_payload:{_status:-1,_result:t},_init:hy}};V.memo=function(t,e){return{$$typeof:ay,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=Ts.transition;Ts.transition={};try{t()}finally{Ts.transition=e}};V.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};V.useCallback=function(t,e){return Fe.current.useCallback(t,e)};V.useContext=function(t){return Fe.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Fe.current.useDeferredValue(t)};V.useEffect=function(t,e){return Fe.current.useEffect(t,e)};V.useId=function(){return Fe.current.useId()};V.useImperativeHandle=function(t,e,n){return Fe.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return Fe.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Fe.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Fe.current.useMemo(t,e)};V.useReducer=function(t,e,n){return Fe.current.useReducer(t,e,n)};V.useRef=function(t){return Fe.current.useRef(t)};V.useState=function(t){return Fe.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return Fe.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return Fe.current.useTransition()};V.version="18.2.0";Ih.exports=V;var $=Ih.exports;const Oh=Z_($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my=$,gy=Symbol.for("react.element"),_y=Symbol.for("react.fragment"),yy=Object.prototype.hasOwnProperty,vy=my.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wy={key:!0,ref:!0,__self:!0,__source:!0};function Ah(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yy.call(e,r)&&!wy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gy,type:t,key:s,ref:o,props:i,_owner:vy.current}}Ro.Fragment=_y;Ro.jsx=Ah;Ro.jsxs=Ah;Ch.exports=Ro;var y=Ch.exports,ea={},Mh={exports:{}},et={},Lh={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,A){var b=k.length;k.push(A);e:for(;0<b;){var Y=b-1>>>1,ie=k[Y];if(0<i(ie,A))k[Y]=A,k[b]=ie,b=Y;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var A=k[0],b=k.pop();if(b!==A){k[0]=b;e:for(var Y=0,ie=k.length,wt=ie>>>1;Y<wt;){var je=2*(Y+1)-1,_e=k[je],xe=je+1,Gt=k[xe];if(0>i(_e,b))xe<ie&&0>i(Gt,_e)?(k[Y]=Gt,k[xe]=b,Y=xe):(k[Y]=_e,k[je]=b,Y=je);else if(xe<ie&&0>i(Gt,b))k[Y]=Gt,k[xe]=b,Y=xe;else break e}}return A}function i(k,A){var b=k.sortIndex-A.sortIndex;return b!==0?b:k.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,g=!1,_=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(k){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=k)r(u),A.sortIndex=A.expirationTime,e(a,A);else break;A=n(u)}}function S(k){if(v=!1,m(k),!_)if(n(a)!==null)_=!0,Q(T);else{var A=n(u);A!==null&&re(S,A.startTime-k)}}function T(k,A){_=!1,v&&(v=!1,p(M),M=-1),g=!0;var b=f;try{for(m(A),d=n(a);d!==null&&(!(d.expirationTime>A)||k&&!N());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var ie=Y(d.expirationTime<=A);A=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(a)&&r(a),m(A)}else r(a);d=n(a)}if(d!==null)var wt=!0;else{var je=n(u);je!==null&&re(S,je.startTime-A),wt=!1}return wt}finally{d=null,f=b,g=!1}}var I=!1,P=null,M=-1,D=5,C=-1;function N(){return!(t.unstable_now()-C<D)}function L(){if(P!==null){var k=t.unstable_now();C=k;var A=!0;try{A=P(!0,k)}finally{A?O():(I=!1,P=null)}}else I=!1}var O;if(typeof h=="function")O=function(){h(L)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,j=U.port2;U.port1.onmessage=L,O=function(){j.postMessage(null)}}else O=function(){w(L,0)};function Q(k){P=k,I||(I=!0,O())}function re(k,A){M=w(function(){k(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,Q(T))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var b=f;f=A;try{return k()}finally{f=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,A){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var b=f;f=k;try{return A()}finally{f=b}},t.unstable_scheduleCallback=function(k,A,b){var Y=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?Y+b:Y):b=Y,k){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=b+ie,k={id:c++,callback:A,priorityLevel:k,startTime:b,expirationTime:ie,sortIndex:-1},b>Y?(k.sortIndex=b,e(u,k),n(a)===null&&k===n(u)&&(v?(p(M),M=-1):v=!0,re(S,b-Y))):(k.sortIndex=ie,e(a,k),_||g||(_=!0,Q(T))),k},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(k){var A=f;return function(){var b=f;f=A;try{return k.apply(this,arguments)}finally{f=b}}}})(Fh);Lh.exports=Fh;var Sy=Lh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=$,Ze=Sy;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jh=new Set,wi={};function qn(t,e){kr(t,e),kr(t+"Capture",e)}function kr(t,e){for(wi[t]=e,t=0;t<e.length;t++)jh.add(e[t])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=Object.prototype.hasOwnProperty,Ey=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ad={},ud={};function Cy(t){return ta.call(ud,t)?!0:ta.call(ad,t)?!1:Ey.test(t)?ud[t]=!0:(ad[t]=!0,!1)}function Iy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ky(t,e,n,r){if(e===null||typeof e>"u"||Iy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function be(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Te[t]=new be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Te[e]=new be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Te[t]=new be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Te[t]=new be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Te[t]=new be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Te[t]=new be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Te[t]=new be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Te[t]=new be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Te[t]=new be(t,5,!1,t.toLowerCase(),null,!1,!1)});var Eu=/[\-:]([a-z])/g;function Cu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Eu,Cu);Te[e]=new be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Eu,Cu);Te[e]=new be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Eu,Cu);Te[e]=new be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Te[t]=new be(t,1,!1,t.toLowerCase(),null,!1,!1)});Te.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Te[t]=new be(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iu(t,e,n,r){var i=Te.hasOwnProperty(e)?Te[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ky(e,n,i,r)&&(n=null),r||i===null?Cy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vt=bh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ls=Symbol.for("react.element"),rr=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),ku=Symbol.for("react.strict_mode"),na=Symbol.for("react.profiler"),$h=Symbol.for("react.provider"),Uh=Symbol.for("react.context"),Tu=Symbol.for("react.forward_ref"),ra=Symbol.for("react.suspense"),ia=Symbol.for("react.suspense_list"),xu=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),zh=Symbol.for("react.offscreen"),cd=Symbol.iterator;function Vr(t){return t===null||typeof t!="object"?null:(t=cd&&t[cd]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,cl;function ni(t){if(cl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cl=e&&e[1]||""}return`
`+cl+t}var dl=!1;function fl(t,e){if(!t||dl)return"";dl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{dl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ni(t):""}function Ty(t){switch(t.tag){case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return t=fl(t.type,!1),t;case 11:return t=fl(t.type.render,!1),t;case 1:return t=fl(t.type,!0),t;default:return""}}function sa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ir:return"Fragment";case rr:return"Portal";case na:return"Profiler";case ku:return"StrictMode";case ra:return"Suspense";case ia:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Uh:return(t.displayName||"Context")+".Consumer";case $h:return(t._context.displayName||"Context")+".Provider";case Tu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xu:return e=t.displayName||null,e!==null?e:sa(t.type)||"Memo";case Qt:e=t._payload,t=t._init;try{return sa(t(e))}catch{}}return null}function xy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sa(e);case 8:return e===ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ny(t){var e=Bh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function as(t){t._valueTracker||(t._valueTracker=Ny(t))}function Wh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bh(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oa(t,e){var n=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vh(t,e){e=e.checked,e!=null&&Iu(t,"checked",e,!1)}function la(t,e){Vh(t,e);var n=pn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?aa(t,e.type,n):e.hasOwnProperty("defaultValue")&&aa(t,e.type,pn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function fd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function aa(t,e,n){(e!=="number"||$s(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ri=Array.isArray;function gr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ua(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(ri(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pn(n)}}function Hh(t,e){var n=pn(e.value),r=pn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ca(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var us,Yh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=us.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Si(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dy=["Webkit","ms","Moz","O"];Object.keys(oi).forEach(function(t){Dy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oi[e]=oi[t]})});function Qh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oi.hasOwnProperty(t)&&oi[t]?(""+e).trim():e+"px"}function Kh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qh(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ry=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function da(t,e){if(e){if(Ry[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function fa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=null;function Nu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pa=null,_r=null,yr=null;function md(t){if(t=Ki(t)){if(typeof pa!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Lo(e),pa(t.stateNode,t.type,e))}}function qh(t){_r?yr?yr.push(t):yr=[t]:_r=t}function Xh(){if(_r){var t=_r,e=yr;if(yr=_r=null,md(t),e)for(t=0;t<e.length;t++)md(e[t])}}function Jh(t,e){return t(e)}function Zh(){}var hl=!1;function ep(t,e,n){if(hl)return t(e,n);hl=!0;try{return Jh(t,e,n)}finally{hl=!1,(_r!==null||yr!==null)&&(Zh(),Xh())}}function Ei(t,e){var n=t.stateNode;if(n===null)return null;var r=Lo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var ma=!1;if(jt)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{ma=!1}function Py(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var li=!1,Us=null,zs=!1,ga=null,Oy={onError:function(t){li=!0,Us=t}};function Ay(t,e,n,r,i,s,o,l,a){li=!1,Us=null,Py.apply(Oy,arguments)}function My(t,e,n,r,i,s,o,l,a){if(Ay.apply(this,arguments),li){if(li){var u=Us;li=!1,Us=null}else throw Error(E(198));zs||(zs=!0,ga=u)}}function Xn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gd(t){if(Xn(t)!==t)throw Error(E(188))}function Ly(t){var e=t.alternate;if(!e){if(e=Xn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return gd(i),t;if(s===r)return gd(i),e;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function np(t){return t=Ly(t),t!==null?rp(t):null}function rp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rp(t);if(e!==null)return e;t=t.sibling}return null}var ip=Ze.unstable_scheduleCallback,_d=Ze.unstable_cancelCallback,Fy=Ze.unstable_shouldYield,by=Ze.unstable_requestPaint,de=Ze.unstable_now,jy=Ze.unstable_getCurrentPriorityLevel,Du=Ze.unstable_ImmediatePriority,sp=Ze.unstable_UserBlockingPriority,Bs=Ze.unstable_NormalPriority,$y=Ze.unstable_LowPriority,op=Ze.unstable_IdlePriority,Po=null,kt=null;function Uy(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Po,t,void 0,(t.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:Wy,zy=Math.log,By=Math.LN2;function Wy(t){return t>>>=0,t===0?32:31-(zy(t)/By|0)|0}var cs=64,ds=4194304;function ii(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ws(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ii(l):(s&=o,s!==0&&(r=ii(s)))}else o=n&~i,o!==0?r=ii(o):s!==0&&(r=ii(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gt(e),i=1<<n,r|=t[n],e&=~i;return r}function Vy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=Vy(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function _a(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lp(){var t=cs;return cs<<=1,!(cs&4194240)&&(cs=64),t}function pl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gt(e),t[e]=n}function Gy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ru(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var K=0;function ap(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var up,Pu,cp,dp,fp,ya=!1,fs=[],en=null,tn=null,nn=null,Ci=new Map,Ii=new Map,qt=[],Yy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(t,e){switch(t){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Ci.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(e.pointerId)}}function Gr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ki(e),e!==null&&Pu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Qy(t,e,n,r,i){switch(e){case"focusin":return en=Gr(en,t,e,n,r,i),!0;case"dragenter":return tn=Gr(tn,t,e,n,r,i),!0;case"mouseover":return nn=Gr(nn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ci.set(s,Gr(Ci.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ii.set(s,Gr(Ii.get(s)||null,t,e,n,r,i)),!0}return!1}function hp(t){var e=Rn(t.target);if(e!==null){var n=Xn(e);if(n!==null){if(e=n.tag,e===13){if(e=tp(n),e!==null){t.blockedOn=e,fp(t.priority,function(){cp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=va(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ha=r,n.target.dispatchEvent(r),ha=null}else return e=Ki(n),e!==null&&Pu(e),t.blockedOn=n,!1;e.shift()}return!0}function vd(t,e,n){xs(t)&&n.delete(e)}function Ky(){ya=!1,en!==null&&xs(en)&&(en=null),tn!==null&&xs(tn)&&(tn=null),nn!==null&&xs(nn)&&(nn=null),Ci.forEach(vd),Ii.forEach(vd)}function Yr(t,e){t.blockedOn===e&&(t.blockedOn=null,ya||(ya=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Ky)))}function ki(t){function e(i){return Yr(i,t)}if(0<fs.length){Yr(fs[0],t);for(var n=1;n<fs.length;n++){var r=fs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(en!==null&&Yr(en,t),tn!==null&&Yr(tn,t),nn!==null&&Yr(nn,t),Ci.forEach(e),Ii.forEach(e),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)hp(n),n.blockedOn===null&&qt.shift()}var vr=Vt.ReactCurrentBatchConfig,Vs=!0;function qy(t,e,n,r){var i=K,s=vr.transition;vr.transition=null;try{K=1,Ou(t,e,n,r)}finally{K=i,vr.transition=s}}function Xy(t,e,n,r){var i=K,s=vr.transition;vr.transition=null;try{K=4,Ou(t,e,n,r)}finally{K=i,vr.transition=s}}function Ou(t,e,n,r){if(Vs){var i=va(t,e,n,r);if(i===null)Il(t,e,r,Hs,n),yd(t,r);else if(Qy(i,t,e,n,r))r.stopPropagation();else if(yd(t,r),e&4&&-1<Yy.indexOf(t)){for(;i!==null;){var s=Ki(i);if(s!==null&&up(s),s=va(t,e,n,r),s===null&&Il(t,e,r,Hs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Il(t,e,r,null,n)}}var Hs=null;function va(t,e,n,r){if(Hs=null,t=Nu(r),t=Rn(t),t!==null)if(e=Xn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hs=t,null}function pp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jy()){case Du:return 1;case sp:return 4;case Bs:case $y:return 16;case op:return 536870912;default:return 16}default:return 16}}var Jt=null,Au=null,Ns=null;function mp(){if(Ns)return Ns;var t,e=Au,n=e.length,r,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ns=i.slice(t,1<r?1-r:void 0)}function Ds(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function wd(){return!1}function tt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hs:wd,this.isPropagationStopped=wd,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),e}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mu=tt(jr),Qi=ae({},jr,{view:0,detail:0}),Jy=tt(Qi),ml,gl,Qr,Oo=ae({},Qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qr&&(Qr&&t.type==="mousemove"?(ml=t.screenX-Qr.screenX,gl=t.screenY-Qr.screenY):gl=ml=0,Qr=t),ml)},movementY:function(t){return"movementY"in t?t.movementY:gl}}),Sd=tt(Oo),Zy=ae({},Oo,{dataTransfer:0}),ev=tt(Zy),tv=ae({},Qi,{relatedTarget:0}),_l=tt(tv),nv=ae({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),rv=tt(nv),iv=ae({},jr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sv=tt(iv),ov=ae({},jr,{data:0}),Ed=tt(ov),lv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uv[t])?!!e[t]:!1}function Lu(){return cv}var dv=ae({},Qi,{key:function(t){if(t.key){var e=lv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?av[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(t){return t.type==="keypress"?Ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fv=tt(dv),hv=ae({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=tt(hv),pv=ae({},Qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),mv=tt(pv),gv=ae({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_v=tt(gv),yv=ae({},Oo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vv=tt(yv),wv=[9,13,27,32],Fu=jt&&"CompositionEvent"in window,ai=null;jt&&"documentMode"in document&&(ai=document.documentMode);var Sv=jt&&"TextEvent"in window&&!ai,gp=jt&&(!Fu||ai&&8<ai&&11>=ai),Id=String.fromCharCode(32),kd=!1;function _p(t,e){switch(t){case"keyup":return wv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sr=!1;function Ev(t,e){switch(t){case"compositionend":return yp(e);case"keypress":return e.which!==32?null:(kd=!0,Id);case"textInput":return t=e.data,t===Id&&kd?null:t;default:return null}}function Cv(t,e){if(sr)return t==="compositionend"||!Fu&&_p(t,e)?(t=mp(),Ns=Au=Jt=null,sr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gp&&e.locale!=="ko"?null:e.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Iv[t.type]:e==="textarea"}function vp(t,e,n,r){qh(r),e=Gs(e,"onChange"),0<e.length&&(n=new Mu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ui=null,Ti=null;function kv(t){Rp(t,0)}function Ao(t){var e=ar(t);if(Wh(e))return t}function Tv(t,e){if(t==="change")return e}var wp=!1;if(jt){var yl;if(jt){var vl="oninput"in document;if(!vl){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),vl=typeof xd.oninput=="function"}yl=vl}else yl=!1;wp=yl&&(!document.documentMode||9<document.documentMode)}function Nd(){ui&&(ui.detachEvent("onpropertychange",Sp),Ti=ui=null)}function Sp(t){if(t.propertyName==="value"&&Ao(Ti)){var e=[];vp(e,Ti,t,Nu(t)),ep(kv,e)}}function xv(t,e,n){t==="focusin"?(Nd(),ui=e,Ti=n,ui.attachEvent("onpropertychange",Sp)):t==="focusout"&&Nd()}function Nv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ao(Ti)}function Dv(t,e){if(t==="click")return Ao(e)}function Rv(t,e){if(t==="input"||t==="change")return Ao(e)}function Pv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vt=typeof Object.is=="function"?Object.is:Pv;function xi(t,e){if(vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ta.call(e,i)||!vt(t[i],e[i]))return!1}return!0}function Dd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rd(t,e){var n=Dd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dd(n)}}function Ep(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ep(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Cp(){for(var t=window,e=$s();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$s(t.document)}return e}function bu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ov(t){var e=Cp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ep(n.ownerDocument.documentElement,n)){if(r!==null&&bu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Rd(n,s);var o=Rd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Av=jt&&"documentMode"in document&&11>=document.documentMode,or=null,wa=null,ci=null,Sa=!1;function Pd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sa||or==null||or!==$s(r)||(r=or,"selectionStart"in r&&bu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ci&&xi(ci,r)||(ci=r,r=Gs(wa,"onSelect"),0<r.length&&(e=new Mu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=or)))}function ps(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},wl={},Ip={};jt&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete lr.animationend.animation,delete lr.animationiteration.animation,delete lr.animationstart.animation),"TransitionEvent"in window||delete lr.transitionend.transition);function Mo(t){if(wl[t])return wl[t];if(!lr[t])return t;var e=lr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ip)return wl[t]=e[n];return t}var kp=Mo("animationend"),Tp=Mo("animationiteration"),xp=Mo("animationstart"),Np=Mo("transitionend"),Dp=new Map,Od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wn(t,e){Dp.set(t,e),qn(e,[t])}for(var Sl=0;Sl<Od.length;Sl++){var El=Od[Sl],Mv=El.toLowerCase(),Lv=El[0].toUpperCase()+El.slice(1);wn(Mv,"on"+Lv)}wn(kp,"onAnimationEnd");wn(Tp,"onAnimationIteration");wn(xp,"onAnimationStart");wn("dblclick","onDoubleClick");wn("focusin","onFocus");wn("focusout","onBlur");wn(Np,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fv=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function Ad(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,My(r,e,void 0,t),t.currentTarget=null}function Rp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Ad(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Ad(i,l,u),s=a}}}if(zs)throw t=ga,zs=!1,ga=null,t}function ee(t,e){var n=e[Ta];n===void 0&&(n=e[Ta]=new Set);var r=t+"__bubble";n.has(r)||(Pp(e,t,2,!1),n.add(r))}function Cl(t,e,n){var r=0;e&&(r|=4),Pp(n,t,r,e)}var ms="_reactListening"+Math.random().toString(36).slice(2);function Ni(t){if(!t[ms]){t[ms]=!0,jh.forEach(function(n){n!=="selectionchange"&&(Fv.has(n)||Cl(n,!1,t),Cl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ms]||(e[ms]=!0,Cl("selectionchange",!1,e))}}function Pp(t,e,n,r){switch(pp(e)){case 1:var i=qy;break;case 4:i=Xy;break;default:i=Ou}n=i.bind(null,e,n,t),i=void 0,!ma||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Il(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Rn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}ep(function(){var u=s,c=Nu(n),d=[];e:{var f=Dp.get(t);if(f!==void 0){var g=Mu,_=t;switch(t){case"keypress":if(Ds(n)===0)break e;case"keydown":case"keyup":g=fv;break;case"focusin":_="focus",g=_l;break;case"focusout":_="blur",g=_l;break;case"beforeblur":case"afterblur":g=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ev;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=mv;break;case kp:case Tp:case xp:g=rv;break;case Np:g=_v;break;case"scroll":g=Jy;break;case"wheel":g=vv;break;case"copy":case"cut":case"paste":g=sv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Cd}var v=(e&4)!==0,w=!v&&t==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var h=u,m;h!==null;){m=h;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,p!==null&&(S=Ei(h,p),S!=null&&v.push(Di(h,S,m)))),w)break;h=h.return}0<v.length&&(f=new g(f,_,null,n,c),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==ha&&(_=n.relatedTarget||n.fromElement)&&(Rn(_)||_[$t]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Rn(_):null,_!==null&&(w=Xn(_),_!==w||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(v=Sd,S="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(v=Cd,S="onPointerLeave",p="onPointerEnter",h="pointer"),w=g==null?f:ar(g),m=_==null?f:ar(_),f=new v(S,h+"leave",g,n,c),f.target=w,f.relatedTarget=m,S=null,Rn(c)===u&&(v=new v(p,h+"enter",_,n,c),v.target=m,v.relatedTarget=w,S=v),w=S,g&&_)t:{for(v=g,p=_,h=0,m=v;m;m=er(m))h++;for(m=0,S=p;S;S=er(S))m++;for(;0<h-m;)v=er(v),h--;for(;0<m-h;)p=er(p),m--;for(;h--;){if(v===p||p!==null&&v===p.alternate)break t;v=er(v),p=er(p)}v=null}else v=null;g!==null&&Md(d,f,g,v,!1),_!==null&&w!==null&&Md(d,w,_,v,!0)}}e:{if(f=u?ar(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=Tv;else if(Td(f))if(wp)T=Rv;else{T=Nv;var I=xv}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=Dv);if(T&&(T=T(t,u))){vp(d,T,n,c);break e}I&&I(t,f,u),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&aa(f,"number",f.value)}switch(I=u?ar(u):window,t){case"focusin":(Td(I)||I.contentEditable==="true")&&(or=I,wa=u,ci=null);break;case"focusout":ci=wa=or=null;break;case"mousedown":Sa=!0;break;case"contextmenu":case"mouseup":case"dragend":Sa=!1,Pd(d,n,c);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":Pd(d,n,c)}var P;if(Fu)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else sr?_p(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(gp&&n.locale!=="ko"&&(sr||M!=="onCompositionStart"?M==="onCompositionEnd"&&sr&&(P=mp()):(Jt=c,Au="value"in Jt?Jt.value:Jt.textContent,sr=!0)),I=Gs(u,M),0<I.length&&(M=new Ed(M,t,null,n,c),d.push({event:M,listeners:I}),P?M.data=P:(P=yp(n),P!==null&&(M.data=P)))),(P=Sv?Ev(t,n):Cv(t,n))&&(u=Gs(u,"onBeforeInput"),0<u.length&&(c=new Ed("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=P))}Rp(d,e)})}function Di(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ei(t,n),s!=null&&r.unshift(Di(t,s,i)),s=Ei(t,e),s!=null&&r.push(Di(t,s,i))),t=t.return}return r}function er(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Md(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ei(n,s),a!=null&&o.unshift(Di(n,a,l))):i||(a=Ei(n,s),a!=null&&o.push(Di(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bv=/\r\n?/g,jv=/\u0000|\uFFFD/g;function Ld(t){return(typeof t=="string"?t:""+t).replace(bv,`
`).replace(jv,"")}function gs(t,e,n){if(e=Ld(e),Ld(t)!==e&&n)throw Error(E(425))}function Ys(){}var Ea=null,Ca=null;function Ia(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ka=typeof setTimeout=="function"?setTimeout:void 0,$v=typeof clearTimeout=="function"?clearTimeout:void 0,Fd=typeof Promise=="function"?Promise:void 0,Uv=typeof queueMicrotask=="function"?queueMicrotask:typeof Fd<"u"?function(t){return Fd.resolve(null).then(t).catch(zv)}:ka;function zv(t){setTimeout(function(){throw t})}function kl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ki(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ki(e)}function rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $r=Math.random().toString(36).slice(2),Ct="__reactFiber$"+$r,Ri="__reactProps$"+$r,$t="__reactContainer$"+$r,Ta="__reactEvents$"+$r,Bv="__reactListeners$"+$r,Wv="__reactHandles$"+$r;function Rn(t){var e=t[Ct];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$t]||n[Ct]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bd(t);t!==null;){if(n=t[Ct])return n;t=bd(t)}return e}t=n,n=t.parentNode}return null}function Ki(t){return t=t[Ct]||t[$t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ar(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Lo(t){return t[Ri]||null}var xa=[],ur=-1;function Sn(t){return{current:t}}function ne(t){0>ur||(t.current=xa[ur],xa[ur]=null,ur--)}function Z(t,e){ur++,xa[ur]=t.current,t.current=e}var mn={},Oe=Sn(mn),We=Sn(!1),$n=mn;function Tr(t,e){var n=t.type.contextTypes;if(!n)return mn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ve(t){return t=t.childContextTypes,t!=null}function Qs(){ne(We),ne(Oe)}function jd(t,e,n){if(Oe.current!==mn)throw Error(E(168));Z(Oe,e),Z(We,n)}function Op(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(E(108,xy(t)||"Unknown",i));return ae({},n,r)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mn,$n=Oe.current,Z(Oe,t),Z(We,We.current),!0}function $d(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Op(t,e,$n),r.__reactInternalMemoizedMergedChildContext=t,ne(We),ne(Oe),Z(Oe,t)):ne(We),Z(We,n)}var Pt=null,Fo=!1,Tl=!1;function Ap(t){Pt===null?Pt=[t]:Pt.push(t)}function Vv(t){Fo=!0,Ap(t)}function En(){if(!Tl&&Pt!==null){Tl=!0;var t=0,e=K;try{var n=Pt;for(K=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pt=null,Fo=!1}catch(i){throw Pt!==null&&(Pt=Pt.slice(t+1)),ip(Du,En),i}finally{K=e,Tl=!1}}return null}var cr=[],dr=0,qs=null,Xs=0,nt=[],rt=0,Un=null,Ot=1,At="";function kn(t,e){cr[dr++]=Xs,cr[dr++]=qs,qs=t,Xs=e}function Mp(t,e,n){nt[rt++]=Ot,nt[rt++]=At,nt[rt++]=Un,Un=t;var r=Ot;t=At;var i=32-gt(r)-1;r&=~(1<<i),n+=1;var s=32-gt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ot=1<<32-gt(e)+i|n<<i|r,At=s+t}else Ot=1<<s|n<<i|r,At=t}function ju(t){t.return!==null&&(kn(t,1),Mp(t,1,0))}function $u(t){for(;t===qs;)qs=cr[--dr],cr[dr]=null,Xs=cr[--dr],cr[dr]=null;for(;t===Un;)Un=nt[--rt],nt[rt]=null,At=nt[--rt],nt[rt]=null,Ot=nt[--rt],nt[rt]=null}var Xe=null,qe=null,se=!1,dt=null;function Lp(t,e){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ud(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xe=t,qe=rn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xe=t,qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Un!==null?{id:Ot,overflow:At}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xe=t,qe=null,!0):!1;default:return!1}}function Na(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Da(t){if(se){var e=qe;if(e){var n=e;if(!Ud(t,e)){if(Na(t))throw Error(E(418));e=rn(n.nextSibling);var r=Xe;e&&Ud(t,e)?Lp(r,n):(t.flags=t.flags&-4097|2,se=!1,Xe=t)}}else{if(Na(t))throw Error(E(418));t.flags=t.flags&-4097|2,se=!1,Xe=t}}}function zd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xe=t}function _s(t){if(t!==Xe)return!1;if(!se)return zd(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ia(t.type,t.memoizedProps)),e&&(e=qe)){if(Na(t))throw Fp(),Error(E(418));for(;e;)Lp(t,e),e=rn(e.nextSibling)}if(zd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qe=rn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qe=null}}else qe=Xe?rn(t.stateNode.nextSibling):null;return!0}function Fp(){for(var t=qe;t;)t=rn(t.nextSibling)}function xr(){qe=Xe=null,se=!1}function Uu(t){dt===null?dt=[t]:dt.push(t)}var Hv=Vt.ReactCurrentBatchConfig;function ut(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Js=Sn(null),Zs=null,fr=null,zu=null;function Bu(){zu=fr=Zs=null}function Wu(t){var e=Js.current;ne(Js),t._currentValue=e}function Ra(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wr(t,e){Zs=t,zu=fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ze=!0),t.firstContext=null)}function ot(t){var e=t._currentValue;if(zu!==t)if(t={context:t,memoizedValue:e,next:null},fr===null){if(Zs===null)throw Error(E(308));fr=t,Zs.dependencies={lanes:0,firstContext:t}}else fr=fr.next=t;return e}var Pn=null;function Vu(t){Pn===null?Pn=[t]:Pn.push(t)}function bp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ut(t,r)}function Ut(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kt=!1;function Hu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ut(t,n)}return i=r.interleaved,i===null?(e.next=e,Vu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ut(t,n)}function Rs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ru(t,n)}}function Bd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eo(t,e,n,r){var i=t.updateQueue;Kt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,g=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,v=l;switch(f=e,g=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){d=_.call(g,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(g,d,f):_,f==null)break e;d=ae({},d,f);break e;case 2:Kt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=d):c=c.next=g,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Bn|=o,t.lanes=o,t.memoizedState=d}}function Wd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var $p=new bh.Component().refs;function Pa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bo={isMounted:function(t){return(t=t._reactInternals)?Xn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Le(),i=ln(t),s=Lt(r,i);s.payload=e,n!=null&&(s.callback=n),e=sn(t,s,i),e!==null&&(_t(e,t,i,r),Rs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Le(),i=ln(t),s=Lt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=sn(t,s,i),e!==null&&(_t(e,t,i,r),Rs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Le(),r=ln(t),i=Lt(n,r);i.tag=2,e!=null&&(i.callback=e),e=sn(t,i,r),e!==null&&(_t(e,t,r,n),Rs(e,t,r))}};function Vd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!xi(n,r)||!xi(i,s):!0}function Up(t,e,n){var r=!1,i=mn,s=e.contextType;return typeof s=="object"&&s!==null?s=ot(s):(i=Ve(e)?$n:Oe.current,r=e.contextTypes,s=(r=r!=null)?Tr(t,i):mn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Hd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bo.enqueueReplaceState(e,e.state,null)}function Oa(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=$p,Hu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ot(s):(s=Ve(e)?$n:Oe.current,i.context=Tr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pa(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bo.enqueueReplaceState(i,i.state,null),eo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===$p&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function ys(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gd(t){var e=t._init;return e(t._payload)}function zp(t){function e(p,h){if(t){var m=p.deletions;m===null?(p.deletions=[h],p.flags|=16):m.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function i(p,h){return p=an(p,h),p.index=0,p.sibling=null,p}function s(p,h,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<h?(p.flags|=2,h):m):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,h,m,S){return h===null||h.tag!==6?(h=Al(m,p.mode,S),h.return=p,h):(h=i(h,m),h.return=p,h)}function a(p,h,m,S){var T=m.type;return T===ir?c(p,h,m.props.children,S,m.key):h!==null&&(h.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Qt&&Gd(T)===h.type)?(S=i(h,m.props),S.ref=Kr(p,h,m),S.return=p,S):(S=Fs(m.type,m.key,m.props,null,p.mode,S),S.ref=Kr(p,h,m),S.return=p,S)}function u(p,h,m,S){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Ml(m,p.mode,S),h.return=p,h):(h=i(h,m.children||[]),h.return=p,h)}function c(p,h,m,S,T){return h===null||h.tag!==7?(h=bn(m,p.mode,S,T),h.return=p,h):(h=i(h,m),h.return=p,h)}function d(p,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Al(""+h,p.mode,m),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ls:return m=Fs(h.type,h.key,h.props,null,p.mode,m),m.ref=Kr(p,null,h),m.return=p,m;case rr:return h=Ml(h,p.mode,m),h.return=p,h;case Qt:var S=h._init;return d(p,S(h._payload),m)}if(ri(h)||Vr(h))return h=bn(h,p.mode,m,null),h.return=p,h;ys(p,h)}return null}function f(p,h,m,S){var T=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return T!==null?null:l(p,h,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ls:return m.key===T?a(p,h,m,S):null;case rr:return m.key===T?u(p,h,m,S):null;case Qt:return T=m._init,f(p,h,T(m._payload),S)}if(ri(m)||Vr(m))return T!==null?null:c(p,h,m,S,null);ys(p,m)}return null}function g(p,h,m,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return p=p.get(m)||null,l(h,p,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ls:return p=p.get(S.key===null?m:S.key)||null,a(h,p,S,T);case rr:return p=p.get(S.key===null?m:S.key)||null,u(h,p,S,T);case Qt:var I=S._init;return g(p,h,m,I(S._payload),T)}if(ri(S)||Vr(S))return p=p.get(m)||null,c(h,p,S,T,null);ys(h,S)}return null}function _(p,h,m,S){for(var T=null,I=null,P=h,M=h=0,D=null;P!==null&&M<m.length;M++){P.index>M?(D=P,P=null):D=P.sibling;var C=f(p,P,m[M],S);if(C===null){P===null&&(P=D);break}t&&P&&C.alternate===null&&e(p,P),h=s(C,h,M),I===null?T=C:I.sibling=C,I=C,P=D}if(M===m.length)return n(p,P),se&&kn(p,M),T;if(P===null){for(;M<m.length;M++)P=d(p,m[M],S),P!==null&&(h=s(P,h,M),I===null?T=P:I.sibling=P,I=P);return se&&kn(p,M),T}for(P=r(p,P);M<m.length;M++)D=g(P,p,M,m[M],S),D!==null&&(t&&D.alternate!==null&&P.delete(D.key===null?M:D.key),h=s(D,h,M),I===null?T=D:I.sibling=D,I=D);return t&&P.forEach(function(N){return e(p,N)}),se&&kn(p,M),T}function v(p,h,m,S){var T=Vr(m);if(typeof T!="function")throw Error(E(150));if(m=T.call(m),m==null)throw Error(E(151));for(var I=T=null,P=h,M=h=0,D=null,C=m.next();P!==null&&!C.done;M++,C=m.next()){P.index>M?(D=P,P=null):D=P.sibling;var N=f(p,P,C.value,S);if(N===null){P===null&&(P=D);break}t&&P&&N.alternate===null&&e(p,P),h=s(N,h,M),I===null?T=N:I.sibling=N,I=N,P=D}if(C.done)return n(p,P),se&&kn(p,M),T;if(P===null){for(;!C.done;M++,C=m.next())C=d(p,C.value,S),C!==null&&(h=s(C,h,M),I===null?T=C:I.sibling=C,I=C);return se&&kn(p,M),T}for(P=r(p,P);!C.done;M++,C=m.next())C=g(P,p,M,C.value,S),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?M:C.key),h=s(C,h,M),I===null?T=C:I.sibling=C,I=C);return t&&P.forEach(function(L){return e(p,L)}),se&&kn(p,M),T}function w(p,h,m,S){if(typeof m=="object"&&m!==null&&m.type===ir&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ls:e:{for(var T=m.key,I=h;I!==null;){if(I.key===T){if(T=m.type,T===ir){if(I.tag===7){n(p,I.sibling),h=i(I,m.props.children),h.return=p,p=h;break e}}else if(I.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Qt&&Gd(T)===I.type){n(p,I.sibling),h=i(I,m.props),h.ref=Kr(p,I,m),h.return=p,p=h;break e}n(p,I);break}else e(p,I);I=I.sibling}m.type===ir?(h=bn(m.props.children,p.mode,S,m.key),h.return=p,p=h):(S=Fs(m.type,m.key,m.props,null,p.mode,S),S.ref=Kr(p,h,m),S.return=p,p=S)}return o(p);case rr:e:{for(I=m.key;h!==null;){if(h.key===I)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){n(p,h.sibling),h=i(h,m.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=Ml(m,p.mode,S),h.return=p,p=h}return o(p);case Qt:return I=m._init,w(p,h,I(m._payload),S)}if(ri(m))return _(p,h,m,S);if(Vr(m))return v(p,h,m,S);ys(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(n(p,h.sibling),h=i(h,m),h.return=p,p=h):(n(p,h),h=Al(m,p.mode,S),h.return=p,p=h),o(p)):n(p,h)}return w}var Nr=zp(!0),Bp=zp(!1),qi={},Tt=Sn(qi),Pi=Sn(qi),Oi=Sn(qi);function On(t){if(t===qi)throw Error(E(174));return t}function Gu(t,e){switch(Z(Oi,e),Z(Pi,t),Z(Tt,qi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ca(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ca(e,t)}ne(Tt),Z(Tt,e)}function Dr(){ne(Tt),ne(Pi),ne(Oi)}function Wp(t){On(Oi.current);var e=On(Tt.current),n=ca(e,t.type);e!==n&&(Z(Pi,t),Z(Tt,n))}function Yu(t){Pi.current===t&&(ne(Tt),ne(Pi))}var oe=Sn(0);function to(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xl=[];function Qu(){for(var t=0;t<xl.length;t++)xl[t]._workInProgressVersionPrimary=null;xl.length=0}var Ps=Vt.ReactCurrentDispatcher,Nl=Vt.ReactCurrentBatchConfig,zn=0,le=null,he=null,ve=null,no=!1,di=!1,Ai=0,Gv=0;function Ne(){throw Error(E(321))}function Ku(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vt(t[n],e[n]))return!1;return!0}function qu(t,e,n,r,i,s){if(zn=s,le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ps.current=t===null||t.memoizedState===null?qv:Xv,t=n(r,i),di){s=0;do{if(di=!1,Ai=0,25<=s)throw Error(E(301));s+=1,ve=he=null,e.updateQueue=null,Ps.current=Jv,t=n(r,i)}while(di)}if(Ps.current=ro,e=he!==null&&he.next!==null,zn=0,ve=he=le=null,no=!1,e)throw Error(E(300));return t}function Xu(){var t=Ai!==0;return Ai=0,t}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?le.memoizedState=ve=t:ve=ve.next=t,ve}function lt(){if(he===null){var t=le.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=ve===null?le.memoizedState:ve.next;if(e!==null)ve=e,he=t;else{if(t===null)throw Error(E(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ve===null?le.memoizedState=ve=t:ve=ve.next=t}return ve}function Mi(t,e){return typeof e=="function"?e(t):e}function Dl(t){var e=lt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=he,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((zn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,le.lanes|=c,Bn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,vt(r,e.memoizedState)||(ze=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,le.lanes|=s,Bn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rl(t){var e=lt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);vt(s,e.memoizedState)||(ze=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Vp(){}function Hp(t,e){var n=le,r=lt(),i=e(),s=!vt(r.memoizedState,i);if(s&&(r.memoizedState=i,ze=!0),r=r.queue,Ju(Qp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ve!==null&&ve.memoizedState.tag&1){if(n.flags|=2048,Li(9,Yp.bind(null,n,r,i,e),void 0,null),Ee===null)throw Error(E(349));zn&30||Gp(n,e,i)}return i}function Gp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yp(t,e,n,r){e.value=n,e.getSnapshot=r,Kp(e)&&qp(t)}function Qp(t,e,n){return n(function(){Kp(e)&&qp(t)})}function Kp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vt(t,n)}catch{return!0}}function qp(t){var e=Ut(t,1);e!==null&&_t(e,t,1,-1)}function Yd(t){var e=Et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},e.queue=t,t=t.dispatch=Kv.bind(null,le,t),[e.memoizedState,t]}function Li(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=le.updateQueue,e===null?(e={lastEffect:null,stores:null},le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Xp(){return lt().memoizedState}function Os(t,e,n,r){var i=Et();le.flags|=t,i.memoizedState=Li(1|e,n,void 0,r===void 0?null:r)}function jo(t,e,n,r){var i=lt();r=r===void 0?null:r;var s=void 0;if(he!==null){var o=he.memoizedState;if(s=o.destroy,r!==null&&Ku(r,o.deps)){i.memoizedState=Li(e,n,s,r);return}}le.flags|=t,i.memoizedState=Li(1|e,n,s,r)}function Qd(t,e){return Os(8390656,8,t,e)}function Ju(t,e){return jo(2048,8,t,e)}function Jp(t,e){return jo(4,2,t,e)}function Zp(t,e){return jo(4,4,t,e)}function em(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tm(t,e,n){return n=n!=null?n.concat([t]):null,jo(4,4,em.bind(null,e,t),n)}function Zu(){}function nm(t,e){var n=lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ku(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rm(t,e){var n=lt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ku(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function im(t,e,n){return zn&21?(vt(n,e)||(n=lp(),le.lanes|=n,Bn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ze=!0),t.memoizedState=n)}function Yv(t,e){var n=K;K=n!==0&&4>n?n:4,t(!0);var r=Nl.transition;Nl.transition={};try{t(!1),e()}finally{K=n,Nl.transition=r}}function sm(){return lt().memoizedState}function Qv(t,e,n){var r=ln(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},om(t))lm(e,n);else if(n=bp(t,e,n,r),n!==null){var i=Le();_t(n,t,r,i),am(n,e,r)}}function Kv(t,e,n){var r=ln(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(om(t))lm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,vt(l,o)){var a=e.interleaved;a===null?(i.next=i,Vu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=bp(t,e,i,r),n!==null&&(i=Le(),_t(n,t,r,i),am(n,e,r))}}function om(t){var e=t.alternate;return t===le||e!==null&&e===le}function lm(t,e){di=no=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function am(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ru(t,n)}}var ro={readContext:ot,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},qv={readContext:ot,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:ot,useEffect:Qd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Os(4194308,4,em.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Os(4194308,4,t,e)},useInsertionEffect:function(t,e){return Os(4,2,t,e)},useMemo:function(t,e){var n=Et();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Et();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Qv.bind(null,le,t),[r.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:Yd,useDebugValue:Zu,useDeferredValue:function(t){return Et().memoizedState=t},useTransition:function(){var t=Yd(!1),e=t[0];return t=Yv.bind(null,t[1]),Et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=le,i=Et();if(se){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),Ee===null)throw Error(E(349));zn&30||Gp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Qd(Qp.bind(null,r,s,t),[t]),r.flags|=2048,Li(9,Yp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Et(),e=Ee.identifierPrefix;if(se){var n=At,r=Ot;n=(r&~(1<<32-gt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ai++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Gv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xv={readContext:ot,useCallback:nm,useContext:ot,useEffect:Ju,useImperativeHandle:tm,useInsertionEffect:Jp,useLayoutEffect:Zp,useMemo:rm,useReducer:Dl,useRef:Xp,useState:function(){return Dl(Mi)},useDebugValue:Zu,useDeferredValue:function(t){var e=lt();return im(e,he.memoizedState,t)},useTransition:function(){var t=Dl(Mi)[0],e=lt().memoizedState;return[t,e]},useMutableSource:Vp,useSyncExternalStore:Hp,useId:sm,unstable_isNewReconciler:!1},Jv={readContext:ot,useCallback:nm,useContext:ot,useEffect:Ju,useImperativeHandle:tm,useInsertionEffect:Jp,useLayoutEffect:Zp,useMemo:rm,useReducer:Rl,useRef:Xp,useState:function(){return Rl(Mi)},useDebugValue:Zu,useDeferredValue:function(t){var e=lt();return he===null?e.memoizedState=t:im(e,he.memoizedState,t)},useTransition:function(){var t=Rl(Mi)[0],e=lt().memoizedState;return[t,e]},useMutableSource:Vp,useSyncExternalStore:Hp,useId:sm,unstable_isNewReconciler:!1};function Rr(t,e){try{var n="",r=e;do n+=Ty(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Pl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Aa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Zv=typeof WeakMap=="function"?WeakMap:Map;function um(t,e,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){so||(so=!0,Wa=r),Aa(t,e)},n}function cm(t,e,n){n=Lt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Aa(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Aa(t,e),typeof r!="function"&&(on===null?on=new Set([this]):on.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Kd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Zv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=h0.bind(null,t,e,n),e.then(t,t))}function qd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lt(-1,1),e.tag=2,sn(n,e,1))),n.lanes|=1),t)}var e0=Vt.ReactCurrentOwner,ze=!1;function Ae(t,e,n,r){e.child=t===null?Bp(e,null,n,r):Nr(e,t.child,n,r)}function Jd(t,e,n,r,i){n=n.render;var s=e.ref;return wr(e,i),r=qu(t,e,n,r,s,i),n=Xu(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zt(t,e,i)):(se&&n&&ju(e),e.flags|=1,Ae(t,e,r,i),e.child)}function Zd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!lc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dm(t,e,s,r,i)):(t=Fs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(o,r)&&t.ref===e.ref)return zt(t,e,i)}return e.flags|=1,t=an(s,r),t.ref=e.ref,t.return=e,e.child=t}function dm(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(xi(s,r)&&t.ref===e.ref)if(ze=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ze=!0);else return e.lanes=t.lanes,zt(t,e,i)}return Ma(t,e,n,r,i)}function fm(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(pr,Ke),Ke|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(pr,Ke),Ke|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Z(pr,Ke),Ke|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Z(pr,Ke),Ke|=r;return Ae(t,e,i,n),e.child}function hm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ma(t,e,n,r,i){var s=Ve(n)?$n:Oe.current;return s=Tr(e,s),wr(e,i),n=qu(t,e,n,r,s,i),r=Xu(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zt(t,e,i)):(se&&r&&ju(e),e.flags|=1,Ae(t,e,n,i),e.child)}function ef(t,e,n,r,i){if(Ve(n)){var s=!0;Ks(e)}else s=!1;if(wr(e,i),e.stateNode===null)As(t,e),Up(e,n,r),Oa(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ve(n)?$n:Oe.current,u=Tr(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Hd(e,o,r,u),Kt=!1;var f=e.memoizedState;o.state=f,eo(e,r,o,i),a=e.memoizedState,l!==r||f!==a||We.current||Kt?(typeof c=="function"&&(Pa(e,n,c,r),a=e.memoizedState),(l=Kt||Vd(e,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jp(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ut(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ot(a):(a=Ve(n)?$n:Oe.current,a=Tr(e,a));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Hd(e,o,r,a),Kt=!1,f=e.memoizedState,o.state=f,eo(e,r,o,i);var _=e.memoizedState;l!==d||f!==_||We.current||Kt?(typeof g=="function"&&(Pa(e,n,g,r),_=e.memoizedState),(u=Kt||Vd(e,n,u,r,f,_,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return La(t,e,n,r,s,i)}function La(t,e,n,r,i,s){hm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$d(e,n,!1),zt(t,e,s);r=e.stateNode,e0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Nr(e,t.child,null,s),e.child=Nr(e,null,l,s)):Ae(t,e,l,s),e.memoizedState=r.state,i&&$d(e,n,!0),e.child}function pm(t){var e=t.stateNode;e.pendingContext?jd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jd(t,e.context,!1),Gu(t,e.containerInfo)}function tf(t,e,n,r,i){return xr(),Uu(i),e.flags|=256,Ae(t,e,n,r),e.child}var Fa={dehydrated:null,treeContext:null,retryLane:0};function ba(t){return{baseLanes:t,cachePool:null,transitions:null}}function mm(t,e,n){var r=e.pendingProps,i=oe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Z(oe,i&1),t===null)return Da(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zo(o,r,0,null),t=bn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ba(n),e.memoizedState=Fa,t):ec(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return t0(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=an(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=an(l,s):(s=bn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ba(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fa,r}return s=t.child,t=s.sibling,r=an(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ec(t,e){return e=zo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vs(t,e,n,r){return r!==null&&Uu(r),Nr(e,t.child,null,n),t=ec(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function t0(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Pl(Error(E(422))),vs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zo({mode:"visible",children:r.children},i,0,null),s=bn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Nr(e,t.child,null,o),e.child.memoizedState=ba(o),e.memoizedState=Fa,s);if(!(e.mode&1))return vs(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(E(419)),r=Pl(s,r,void 0),vs(t,e,o,r)}if(l=(o&t.childLanes)!==0,ze||l){if(r=Ee,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ut(t,i),_t(r,t,i,-1))}return oc(),r=Pl(Error(E(421))),vs(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=p0.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qe=rn(i.nextSibling),Xe=e,se=!0,dt=null,t!==null&&(nt[rt++]=Ot,nt[rt++]=At,nt[rt++]=Un,Ot=t.id,At=t.overflow,Un=e),e=ec(e,r.children),e.flags|=4096,e)}function nf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ra(t.return,e,n)}function Ol(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ae(t,e,r.children,n),r=oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nf(t,n,e);else if(t.tag===19)nf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&to(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ol(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&to(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ol(e,!0,n,null,s);break;case"together":Ol(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=an(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=an(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function n0(t,e,n){switch(e.tag){case 3:pm(e),xr();break;case 5:Wp(e);break;case 1:Ve(e.type)&&Ks(e);break;case 4:Gu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Z(Js,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(oe,oe.current&1),e.flags|=128,null):n&e.child.childLanes?mm(t,e,n):(Z(oe,oe.current&1),t=zt(t,e,n),t!==null?t.sibling:null);Z(oe,oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Z(oe,oe.current),r)break;return null;case 22:case 23:return e.lanes=0,fm(t,e,n)}return zt(t,e,n)}var _m,ja,ym,vm;_m=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ja=function(){};ym=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,On(Tt.current);var s=null;switch(n){case"input":i=oa(t,i),r=oa(t,r),s=[];break;case"select":i=ae({},i,{value:void 0}),r=ae({},r,{value:void 0}),s=[];break;case"textarea":i=ua(t,i),r=ua(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ys)}da(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ee("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};vm=function(t,e,n,r){n!==r&&(e.flags|=4)};function qr(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function r0(t,e,n){var r=e.pendingProps;switch($u(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return Ve(e.type)&&Qs(),De(e),null;case 3:return r=e.stateNode,Dr(),ne(We),ne(Oe),Qu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_s(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dt!==null&&(Ga(dt),dt=null))),ja(t,e),De(e),null;case 5:Yu(e);var i=On(Oi.current);if(n=e.type,t!==null&&e.stateNode!=null)ym(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return De(e),null}if(t=On(Tt.current),_s(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ct]=e,r[Ri]=s,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(i=0;i<si.length;i++)ee(si[i],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":dd(r,s),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ee("invalid",r);break;case"textarea":hd(r,s),ee("invalid",r)}da(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&gs(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&gs(r.textContent,l,t),i=["children",""+l]):wi.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ee("scroll",r)}switch(n){case"input":as(r),fd(r,s,!0);break;case"textarea":as(r),pd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ys)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gh(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ct]=e,t[Ri]=r,_m(t,e,!1,!1),e.stateNode=t;e:{switch(o=fa(n,r),n){case"dialog":ee("cancel",t),ee("close",t),i=r;break;case"iframe":case"object":case"embed":ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<si.length;i++)ee(si[i],t);i=r;break;case"source":ee("error",t),i=r;break;case"img":case"image":case"link":ee("error",t),ee("load",t),i=r;break;case"details":ee("toggle",t),i=r;break;case"input":dd(t,r),i=oa(t,r),ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ae({},r,{value:void 0}),ee("invalid",t);break;case"textarea":hd(t,r),i=ua(t,r),ee("invalid",t);break;default:i=r}da(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Kh(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Yh(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Si(t,a):typeof a=="number"&&Si(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ee("scroll",t):a!=null&&Iu(t,s,a,o))}switch(n){case"input":as(t),fd(t,r,!1);break;case"textarea":as(t),pd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gr(t,!!r.multiple,s,!1):r.defaultValue!=null&&gr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return De(e),null;case 6:if(t&&e.stateNode!=null)vm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=On(Oi.current),On(Tt.current),_s(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ct]=e,(s=r.nodeValue!==n)&&(t=Xe,t!==null))switch(t.tag){case 3:gs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gs(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=e,e.stateNode=r}return De(e),null;case 13:if(ne(oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(se&&qe!==null&&e.mode&1&&!(e.flags&128))Fp(),xr(),e.flags|=98560,s=!1;else if(s=_s(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(E(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[Ct]=e}else xr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),s=!1}else dt!==null&&(Ga(dt),dt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||oe.current&1?ge===0&&(ge=3):oc())),e.updateQueue!==null&&(e.flags|=4),De(e),null);case 4:return Dr(),ja(t,e),t===null&&Ni(e.stateNode.containerInfo),De(e),null;case 10:return Wu(e.type._context),De(e),null;case 17:return Ve(e.type)&&Qs(),De(e),null;case 19:if(ne(oe),s=e.memoizedState,s===null)return De(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qr(s,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=to(t),o!==null){for(e.flags|=128,qr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(oe,oe.current&1|2),e.child}t=t.sibling}s.tail!==null&&de()>Pr&&(e.flags|=128,r=!0,qr(s,!1),e.lanes=4194304)}else{if(!r)if(t=to(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!se)return De(e),null}else 2*de()-s.renderingStartTime>Pr&&n!==1073741824&&(e.flags|=128,r=!0,qr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=de(),e.sibling=null,n=oe.current,Z(oe,r?n&1|2:n&1),e):(De(e),null);case 22:case 23:return sc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ke&1073741824&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function i0(t,e){switch($u(e),e.tag){case 1:return Ve(e.type)&&Qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dr(),ne(We),ne(Oe),Qu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yu(e),null;case 13:if(ne(oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));xr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ne(oe),null;case 4:return Dr(),null;case 10:return Wu(e.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var ws=!1,Re=!1,s0=typeof WeakSet=="function"?WeakSet:Set,R=null;function hr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(t,e,r)}else n.current=null}function $a(t,e,n){try{n()}catch(r){ue(t,e,r)}}var rf=!1;function o0(t,e){if(Ea=Vs,t=Cp(),bu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ca={focusedElem:t,selectionRange:n},Vs=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,w=_.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:ut(e.type,v),w);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(S){ue(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return _=rf,rf=!1,_}function fi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$a(e,n,s)}i=i.next}while(i!==r)}}function $o(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ua(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wm(t){var e=t.alternate;e!==null&&(t.alternate=null,wm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ct],delete e[Ri],delete e[Ta],delete e[Bv],delete e[Wv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sm(t){return t.tag===5||t.tag===3||t.tag===4}function sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function za(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ys));else if(r!==4&&(t=t.child,t!==null))for(za(t,e,n),t=t.sibling;t!==null;)za(t,e,n),t=t.sibling}function Ba(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ba(t,e,n),t=t.sibling;t!==null;)Ba(t,e,n),t=t.sibling}var Ce=null,ct=!1;function Yt(t,e,n){for(n=n.child;n!==null;)Em(t,e,n),n=n.sibling}function Em(t,e,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Po,n)}catch{}switch(n.tag){case 5:Re||hr(n,e);case 6:var r=Ce,i=ct;Ce=null,Yt(t,e,n),Ce=r,ct=i,Ce!==null&&(ct?(t=Ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ce.removeChild(n.stateNode));break;case 18:Ce!==null&&(ct?(t=Ce,n=n.stateNode,t.nodeType===8?kl(t.parentNode,n):t.nodeType===1&&kl(t,n),ki(t)):kl(Ce,n.stateNode));break;case 4:r=Ce,i=ct,Ce=n.stateNode.containerInfo,ct=!0,Yt(t,e,n),Ce=r,ct=i;break;case 0:case 11:case 14:case 15:if(!Re&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$a(n,e,o),i=i.next}while(i!==r)}Yt(t,e,n);break;case 1:if(!Re&&(hr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ue(n,e,l)}Yt(t,e,n);break;case 21:Yt(t,e,n);break;case 22:n.mode&1?(Re=(r=Re)||n.memoizedState!==null,Yt(t,e,n),Re=r):Yt(t,e,n);break;default:Yt(t,e,n)}}function of(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new s0),e.forEach(function(r){var i=m0.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function at(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ce=l.stateNode,ct=!1;break e;case 3:Ce=l.stateNode.containerInfo,ct=!0;break e;case 4:Ce=l.stateNode.containerInfo,ct=!0;break e}l=l.return}if(Ce===null)throw Error(E(160));Em(s,o,i),Ce=null,ct=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ue(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cm(e,t),e=e.sibling}function Cm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(at(e,t),St(t),r&4){try{fi(3,t,t.return),$o(3,t)}catch(v){ue(t,t.return,v)}try{fi(5,t,t.return)}catch(v){ue(t,t.return,v)}}break;case 1:at(e,t),St(t),r&512&&n!==null&&hr(n,n.return);break;case 5:if(at(e,t),St(t),r&512&&n!==null&&hr(n,n.return),t.flags&32){var i=t.stateNode;try{Si(i,"")}catch(v){ue(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Vh(i,s),fa(l,o);var u=fa(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Kh(i,d):c==="dangerouslySetInnerHTML"?Yh(i,d):c==="children"?Si(i,d):Iu(i,c,d,u)}switch(l){case"input":la(i,s);break;case"textarea":Hh(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?gr(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?gr(i,!!s.multiple,s.defaultValue,!0):gr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ri]=s}catch(v){ue(t,t.return,v)}}break;case 6:if(at(e,t),St(t),r&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ue(t,t.return,v)}}break;case 3:if(at(e,t),St(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ki(e.containerInfo)}catch(v){ue(t,t.return,v)}break;case 4:at(e,t),St(t);break;case 13:at(e,t),St(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rc=de())),r&4&&of(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Re=(u=Re)||c,at(e,t),Re=u):at(e,t),St(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(R=t,c=t.child;c!==null;){for(d=R=c;R!==null;){switch(f=R,g=f.child,f.tag){case 0:case 11:case 14:case 15:fi(4,f,f.return);break;case 1:hr(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){ue(r,n,v)}}break;case 5:hr(f,f.return);break;case 22:if(f.memoizedState!==null){af(d);continue}}g!==null?(g.return=f,R=g):af(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Qh("display",o))}catch(v){ue(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){ue(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:at(e,t),St(t),r&4&&of(t);break;case 21:break;default:at(e,t),St(t)}}function St(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sm(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Si(i,""),r.flags&=-33);var s=sf(t);Ba(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=sf(t);za(t,l,o);break;default:throw Error(E(161))}}catch(a){ue(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l0(t,e,n){R=t,Im(t)}function Im(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var i=R,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ws;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Re;l=ws;var u=Re;if(ws=o,(Re=a)&&!u)for(R=i;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?uf(i):a!==null?(a.return=o,R=a):uf(i);for(;s!==null;)R=s,Im(s),s=s.sibling;R=i,ws=l,Re=u}lf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,R=s):lf(t)}}function lf(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Re||$o(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Re)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ut(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Wd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ki(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Re||e.flags&512&&Ua(e)}catch(f){ue(e,e.return,f)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function af(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function uf(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$o(4,e)}catch(a){ue(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ue(e,i,a)}}var s=e.return;try{Ua(e)}catch(a){ue(e,s,a)}break;case 5:var o=e.return;try{Ua(e)}catch(a){ue(e,o,a)}}}catch(a){ue(e,e.return,a)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var a0=Math.ceil,io=Vt.ReactCurrentDispatcher,tc=Vt.ReactCurrentOwner,st=Vt.ReactCurrentBatchConfig,H=0,Ee=null,fe=null,ke=0,Ke=0,pr=Sn(0),ge=0,Fi=null,Bn=0,Uo=0,nc=0,hi=null,Ue=null,rc=0,Pr=1/0,Rt=null,so=!1,Wa=null,on=null,Ss=!1,Zt=null,oo=0,pi=0,Va=null,Ms=-1,Ls=0;function Le(){return H&6?de():Ms!==-1?Ms:Ms=de()}function ln(t){return t.mode&1?H&2&&ke!==0?ke&-ke:Hv.transition!==null?(Ls===0&&(Ls=lp()),Ls):(t=K,t!==0||(t=window.event,t=t===void 0?16:pp(t.type)),t):1}function _t(t,e,n,r){if(50<pi)throw pi=0,Va=null,Error(E(185));Yi(t,n,r),(!(H&2)||t!==Ee)&&(t===Ee&&(!(H&2)&&(Uo|=n),ge===4&&Xt(t,ke)),He(t,r),n===1&&H===0&&!(e.mode&1)&&(Pr=de()+500,Fo&&En()))}function He(t,e){var n=t.callbackNode;Hy(t,e);var r=Ws(t,t===Ee?ke:0);if(r===0)n!==null&&_d(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_d(n),e===1)t.tag===0?Vv(cf.bind(null,t)):Ap(cf.bind(null,t)),Uv(function(){!(H&6)&&En()}),n=null;else{switch(ap(r)){case 1:n=Du;break;case 4:n=sp;break;case 16:n=Bs;break;case 536870912:n=op;break;default:n=Bs}n=Om(n,km.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function km(t,e){if(Ms=-1,Ls=0,H&6)throw Error(E(327));var n=t.callbackNode;if(Sr()&&t.callbackNode!==n)return null;var r=Ws(t,t===Ee?ke:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lo(t,r);else{e=r;var i=H;H|=2;var s=xm();(Ee!==t||ke!==e)&&(Rt=null,Pr=de()+500,Fn(t,e));do try{d0();break}catch(l){Tm(t,l)}while(1);Bu(),io.current=s,H=i,fe!==null?e=0:(Ee=null,ke=0,e=ge)}if(e!==0){if(e===2&&(i=_a(t),i!==0&&(r=i,e=Ha(t,i))),e===1)throw n=Fi,Fn(t,0),Xt(t,r),He(t,de()),n;if(e===6)Xt(t,r);else{if(i=t.current.alternate,!(r&30)&&!u0(i)&&(e=lo(t,r),e===2&&(s=_a(t),s!==0&&(r=s,e=Ha(t,s))),e===1))throw n=Fi,Fn(t,0),Xt(t,r),He(t,de()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:Tn(t,Ue,Rt);break;case 3:if(Xt(t,r),(r&130023424)===r&&(e=rc+500-de(),10<e)){if(Ws(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Le(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ka(Tn.bind(null,t,Ue,Rt),e);break}Tn(t,Ue,Rt);break;case 4:if(Xt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*a0(r/1960))-r,10<r){t.timeoutHandle=ka(Tn.bind(null,t,Ue,Rt),r);break}Tn(t,Ue,Rt);break;case 5:Tn(t,Ue,Rt);break;default:throw Error(E(329))}}}return He(t,de()),t.callbackNode===n?km.bind(null,t):null}function Ha(t,e){var n=hi;return t.current.memoizedState.isDehydrated&&(Fn(t,e).flags|=256),t=lo(t,e),t!==2&&(e=Ue,Ue=n,e!==null&&Ga(e)),t}function Ga(t){Ue===null?Ue=t:Ue.push.apply(Ue,t)}function u0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!vt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xt(t,e){for(e&=~nc,e&=~Uo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gt(e),r=1<<n;t[n]=-1,e&=~r}}function cf(t){if(H&6)throw Error(E(327));Sr();var e=Ws(t,0);if(!(e&1))return He(t,de()),null;var n=lo(t,e);if(t.tag!==0&&n===2){var r=_a(t);r!==0&&(e=r,n=Ha(t,r))}if(n===1)throw n=Fi,Fn(t,0),Xt(t,e),He(t,de()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tn(t,Ue,Rt),He(t,de()),null}function ic(t,e){var n=H;H|=1;try{return t(e)}finally{H=n,H===0&&(Pr=de()+500,Fo&&En())}}function Wn(t){Zt!==null&&Zt.tag===0&&!(H&6)&&Sr();var e=H;H|=1;var n=st.transition,r=K;try{if(st.transition=null,K=1,t)return t()}finally{K=r,st.transition=n,H=e,!(H&6)&&En()}}function sc(){Ke=pr.current,ne(pr)}function Fn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$v(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch($u(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qs();break;case 3:Dr(),ne(We),ne(Oe),Qu();break;case 5:Yu(r);break;case 4:Dr();break;case 13:ne(oe);break;case 19:ne(oe);break;case 10:Wu(r.type._context);break;case 22:case 23:sc()}n=n.return}if(Ee=t,fe=t=an(t.current,null),ke=Ke=e,ge=0,Fi=null,nc=Uo=Bn=0,Ue=hi=null,Pn!==null){for(e=0;e<Pn.length;e++)if(n=Pn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Pn=null}return t}function Tm(t,e){do{var n=fe;try{if(Bu(),Ps.current=ro,no){for(var r=le.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}no=!1}if(zn=0,ve=he=le=null,di=!1,Ai=0,tc.current=null,n===null||n.return===null){ge=1,Fi=e,fe=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=ke,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=qd(o);if(g!==null){g.flags&=-257,Xd(g,o,l,s,e),g.mode&1&&Kd(s,u,e),e=g,a=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(a),e.updateQueue=v}else _.add(a);break e}else{if(!(e&1)){Kd(s,u,e),oc();break e}a=Error(E(426))}}else if(se&&l.mode&1){var w=qd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Xd(w,o,l,s,e),Uu(Rr(a,l));break e}}s=a=Rr(a,l),ge!==4&&(ge=2),hi===null?hi=[s]:hi.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=um(s,a,e);Bd(s,p);break e;case 1:l=a;var h=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(on===null||!on.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=cm(s,l,e);Bd(s,S);break e}}s=s.return}while(s!==null)}Dm(n)}catch(T){e=T,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(1)}function xm(){var t=io.current;return io.current=ro,t===null?ro:t}function oc(){(ge===0||ge===3||ge===2)&&(ge=4),Ee===null||!(Bn&268435455)&&!(Uo&268435455)||Xt(Ee,ke)}function lo(t,e){var n=H;H|=2;var r=xm();(Ee!==t||ke!==e)&&(Rt=null,Fn(t,e));do try{c0();break}catch(i){Tm(t,i)}while(1);if(Bu(),H=n,io.current=r,fe!==null)throw Error(E(261));return Ee=null,ke=0,ge}function c0(){for(;fe!==null;)Nm(fe)}function d0(){for(;fe!==null&&!Fy();)Nm(fe)}function Nm(t){var e=Pm(t.alternate,t,Ke);t.memoizedProps=t.pendingProps,e===null?Dm(t):fe=e,tc.current=null}function Dm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=i0(n,e),n!==null){n.flags&=32767,fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ge=6,fe=null;return}}else if(n=r0(n,e,Ke),n!==null){fe=n;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);ge===0&&(ge=5)}function Tn(t,e,n){var r=K,i=st.transition;try{st.transition=null,K=1,f0(t,e,n,r)}finally{st.transition=i,K=r}return null}function f0(t,e,n,r){do Sr();while(Zt!==null);if(H&6)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Gy(t,s),t===Ee&&(fe=Ee=null,ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ss||(Ss=!0,Om(Bs,function(){return Sr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=st.transition,st.transition=null;var o=K;K=1;var l=H;H|=4,tc.current=null,o0(t,n),Cm(n,t),Ov(Ca),Vs=!!Ea,Ca=Ea=null,t.current=n,l0(n),by(),H=l,K=o,st.transition=s}else t.current=n;if(Ss&&(Ss=!1,Zt=t,oo=i),s=t.pendingLanes,s===0&&(on=null),Uy(n.stateNode),He(t,de()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(so)throw so=!1,t=Wa,Wa=null,t;return oo&1&&t.tag!==0&&Sr(),s=t.pendingLanes,s&1?t===Va?pi++:(pi=0,Va=t):pi=0,En(),null}function Sr(){if(Zt!==null){var t=ap(oo),e=st.transition,n=K;try{if(st.transition=null,K=16>t?16:t,Zt===null)var r=!1;else{if(t=Zt,Zt=null,oo=0,H&6)throw Error(E(331));var i=H;for(H|=4,R=t.current;R!==null;){var s=R,o=s.child;if(R.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:fi(8,c,s)}var d=c.child;if(d!==null)d.return=c,R=d;else for(;R!==null;){c=R;var f=c.sibling,g=c.return;if(wm(c),c===u){R=null;break}if(f!==null){f.return=g,R=f;break}R=g}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}R=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,R=o;else e:for(;R!==null;){if(s=R,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fi(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,R=p;break e}R=s.return}}var h=t.current;for(R=h;R!==null;){o=R;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,R=m;else e:for(o=h;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$o(9,l)}}catch(T){ue(l,l.return,T)}if(l===o){R=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,R=S;break e}R=l.return}}if(H=i,En(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Po,t)}catch{}r=!0}return r}finally{K=n,st.transition=e}}return!1}function df(t,e,n){e=Rr(n,e),e=um(t,e,1),t=sn(t,e,1),e=Le(),t!==null&&(Yi(t,1,e),He(t,e))}function ue(t,e,n){if(t.tag===3)df(t,t,n);else for(;e!==null;){if(e.tag===3){df(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(on===null||!on.has(r))){t=Rr(n,t),t=cm(e,t,1),e=sn(e,t,1),t=Le(),e!==null&&(Yi(e,1,t),He(e,t));break}}e=e.return}}function h0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Le(),t.pingedLanes|=t.suspendedLanes&n,Ee===t&&(ke&n)===n&&(ge===4||ge===3&&(ke&130023424)===ke&&500>de()-rc?Fn(t,0):nc|=n),He(t,e)}function Rm(t,e){e===0&&(t.mode&1?(e=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):e=1);var n=Le();t=Ut(t,e),t!==null&&(Yi(t,e,n),He(t,n))}function p0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Rm(t,n)}function m0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),Rm(t,n)}var Pm;Pm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||We.current)ze=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ze=!1,n0(t,e,n);ze=!!(t.flags&131072)}else ze=!1,se&&e.flags&1048576&&Mp(e,Xs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;As(t,e),t=e.pendingProps;var i=Tr(e,Oe.current);wr(e,n),i=qu(null,e,r,t,i,n);var s=Xu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ve(r)?(s=!0,Ks(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hu(e),i.updater=bo,e.stateNode=i,i._reactInternals=e,Oa(e,r,t,n),e=La(null,e,r,!0,s,n)):(e.tag=0,se&&s&&ju(e),Ae(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(As(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_0(r),t=ut(r,t),i){case 0:e=Ma(null,e,r,t,n);break e;case 1:e=ef(null,e,r,t,n);break e;case 11:e=Jd(null,e,r,t,n);break e;case 14:e=Zd(null,e,r,ut(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ut(r,i),Ma(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ut(r,i),ef(t,e,r,i,n);case 3:e:{if(pm(e),t===null)throw Error(E(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jp(t,e),eo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Rr(Error(E(423)),e),e=tf(t,e,r,n,i);break e}else if(r!==i){i=Rr(Error(E(424)),e),e=tf(t,e,r,n,i);break e}else for(qe=rn(e.stateNode.containerInfo.firstChild),Xe=e,se=!0,dt=null,n=Bp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xr(),r===i){e=zt(t,e,n);break e}Ae(t,e,r,n)}e=e.child}return e;case 5:return Wp(e),t===null&&Da(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ia(r,i)?o=null:s!==null&&Ia(r,s)&&(e.flags|=32),hm(t,e),Ae(t,e,o,n),e.child;case 6:return t===null&&Da(e),null;case 13:return mm(t,e,n);case 4:return Gu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Nr(e,null,r,n):Ae(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ut(r,i),Jd(t,e,r,i,n);case 7:return Ae(t,e,e.pendingProps,n),e.child;case 8:return Ae(t,e,e.pendingProps.children,n),e.child;case 12:return Ae(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Z(Js,r._currentValue),r._currentValue=o,s!==null)if(vt(s.value,o)){if(s.children===i.children&&!We.current){e=zt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Lt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ra(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ra(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ae(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wr(e,n),i=ot(i),r=r(i),e.flags|=1,Ae(t,e,r,n),e.child;case 14:return r=e.type,i=ut(r,e.pendingProps),i=ut(r.type,i),Zd(t,e,r,i,n);case 15:return dm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ut(r,i),As(t,e),e.tag=1,Ve(r)?(t=!0,Ks(e)):t=!1,wr(e,n),Up(e,r,i),Oa(e,r,i,n),La(null,e,r,!0,t,n);case 19:return gm(t,e,n);case 22:return fm(t,e,n)}throw Error(E(156,e.tag))};function Om(t,e){return ip(t,e)}function g0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(t,e,n,r){return new g0(t,e,n,r)}function lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _0(t){if(typeof t=="function")return lc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tu)return 11;if(t===xu)return 14}return 2}function an(t,e){var n=t.alternate;return n===null?(n=it(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fs(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")lc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ir:return bn(n.children,i,s,e);case ku:o=8,i|=8;break;case na:return t=it(12,n,e,i|2),t.elementType=na,t.lanes=s,t;case ra:return t=it(13,n,e,i),t.elementType=ra,t.lanes=s,t;case ia:return t=it(19,n,e,i),t.elementType=ia,t.lanes=s,t;case zh:return zo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $h:o=10;break e;case Uh:o=9;break e;case Tu:o=11;break e;case xu:o=14;break e;case Qt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=it(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function bn(t,e,n,r){return t=it(7,t,r,e),t.lanes=n,t}function zo(t,e,n,r){return t=it(22,t,r,e),t.elementType=zh,t.lanes=n,t.stateNode={isHidden:!1},t}function Al(t,e,n){return t=it(6,t,null,e),t.lanes=n,t}function Ml(t,e,n){return e=it(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function y0(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ac(t,e,n,r,i,s,o,l,a){return t=new y0(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=it(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hu(s),t}function v0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Am(t){if(!t)return mn;t=t._reactInternals;e:{if(Xn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ve(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(Ve(n))return Op(t,n,e)}return e}function Mm(t,e,n,r,i,s,o,l,a){return t=ac(n,r,!0,t,i,s,o,l,a),t.context=Am(null),n=t.current,r=Le(),i=ln(n),s=Lt(r,i),s.callback=e??null,sn(n,s,i),t.current.lanes=i,Yi(t,i,r),He(t,r),t}function Bo(t,e,n,r){var i=e.current,s=Le(),o=ln(i);return n=Am(n),e.context===null?e.context=n:e.pendingContext=n,e=Lt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sn(i,e,o),t!==null&&(_t(t,i,o,s),Rs(t,i,o)),o}function ao(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ff(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uc(t,e){ff(t,e),(t=t.alternate)&&ff(t,e)}function w0(){return null}var Lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function cc(t){this._internalRoot=t}Wo.prototype.render=cc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Bo(t,e,null,null)};Wo.prototype.unmount=cc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wn(function(){Bo(null,t,null,null)}),e[$t]=null}};function Wo(t){this._internalRoot=t}Wo.prototype.unstable_scheduleHydration=function(t){if(t){var e=dp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qt.length&&e!==0&&e<qt[n].priority;n++);qt.splice(n,0,t),n===0&&hp(t)}};function dc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hf(){}function S0(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ao(o);s.call(u)}}var o=Mm(e,r,t,0,null,!1,!1,"",hf);return t._reactRootContainer=o,t[$t]=o.current,Ni(t.nodeType===8?t.parentNode:t),Wn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ao(a);l.call(u)}}var a=ac(t,0,!1,null,null,!1,!1,"",hf);return t._reactRootContainer=a,t[$t]=a.current,Ni(t.nodeType===8?t.parentNode:t),Wn(function(){Bo(e,a,n,r)}),a}function Ho(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=ao(o);l.call(a)}}Bo(e,o,t,i)}else o=S0(n,e,t,i,r);return ao(o)}up=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ii(e.pendingLanes);n!==0&&(Ru(e,n|1),He(e,de()),!(H&6)&&(Pr=de()+500,En()))}break;case 13:Wn(function(){var r=Ut(t,1);if(r!==null){var i=Le();_t(r,t,1,i)}}),uc(t,1)}};Pu=function(t){if(t.tag===13){var e=Ut(t,134217728);if(e!==null){var n=Le();_t(e,t,134217728,n)}uc(t,134217728)}};cp=function(t){if(t.tag===13){var e=ln(t),n=Ut(t,e);if(n!==null){var r=Le();_t(n,t,e,r)}uc(t,e)}};dp=function(){return K};fp=function(t,e){var n=K;try{return K=t,e()}finally{K=n}};pa=function(t,e,n){switch(e){case"input":if(la(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lo(r);if(!i)throw Error(E(90));Wh(r),la(r,i)}}}break;case"textarea":Hh(t,n);break;case"select":e=n.value,e!=null&&gr(t,!!n.multiple,e,!1)}};Jh=ic;Zh=Wn;var E0={usingClientEntryPoint:!1,Events:[Ki,ar,Lo,qh,Xh,ic]},Xr={findFiberByHostInstance:Rn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},C0={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=np(t),t===null?null:t.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||w0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{Po=Es.inject(C0),kt=Es}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E0;et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dc(e))throw Error(E(200));return v0(t,e,null,n)};et.createRoot=function(t,e){if(!dc(t))throw Error(E(299));var n=!1,r="",i=Lm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ac(t,1,!1,null,null,n,!1,r,i),t[$t]=e.current,Ni(t.nodeType===8?t.parentNode:t),new cc(e)};et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=np(e),t=t===null?null:t.stateNode,t};et.flushSync=function(t){return Wn(t)};et.hydrate=function(t,e,n){if(!Vo(e))throw Error(E(200));return Ho(null,t,e,!0,n)};et.hydrateRoot=function(t,e,n){if(!dc(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Lm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Mm(e,null,t,1,n??null,i,!1,s,o),t[$t]=e.current,Ni(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wo(e)};et.render=function(t,e,n){if(!Vo(e))throw Error(E(200));return Ho(null,t,e,!1,n)};et.unmountComponentAtNode=function(t){if(!Vo(t))throw Error(E(40));return t._reactRootContainer?(Wn(function(){Ho(null,null,t,!1,function(){t._reactRootContainer=null,t[$t]=null})}),!0):!1};et.unstable_batchedUpdates=ic;et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vo(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Ho(t,e,n,!1,r)};et.version="18.2.0-next-9e3b772b8-20220608";function Fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fm)}catch(t){console.error(t)}}Fm(),Mh.exports=et;var I0=Mh.exports,pf=I0;ea.createRoot=pf.createRoot,ea.hydrateRoot=pf.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x=function(t,e){if(!t)throw Ur(e)},Ur=function(t){return new Error("Firebase Database ("+bm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},k0=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},fc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(f=64)),r.push(n[c],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new T0;const f=s<<2|l>>4;if(r.push(f),u!==64){const g=l<<4&240|u>>2;if(r.push(g),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class T0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $m=function(t){const e=jm(t);return fc.encodeByteArray(e,!0)},uo=function(t){return $m(t).replace(/\./g,"")},Ya=function(t){try{return fc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){return Um(void 0,t)}function Um(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!N0(n)||(t[n]=Um(t[n],e[n]));return t}function N0(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=()=>D0().__FIREBASE_DEFAULTS__,P0=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ya(t[1]);return e&&JSON.parse(e)},zm=()=>{try{return R0()||P0()||O0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A0=t=>{var e,n;return(n=(e=zm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M0=t=>{const e=A0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Bm=()=>{var t;return(t=zm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[uo(JSON.stringify(n)),uo(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(F0())}function b0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function j0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vm(){return bm.NODE_ADMIN===!0}function Hm(){try{return typeof indexedDB=="object"}catch{return!1}}function Gm(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function $0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="FirebaseError";class Jn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=U0,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yo.prototype.create)}}class Yo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?z0(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Jn(i,l,r)}}function z0(t,e){return t.replace(B0,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const B0=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){return JSON.parse(t)}function pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=bi(Ya(s[0])||""),n=bi(Ya(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},W0=function(t){const e=Ym(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},V0=function(t){const e=Ym(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Or(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function mf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function co(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(gf(s)&&gf(o)){if(!fo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const f=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function hc(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,x(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=1e3,K0=2,q0=4*60*60*1e3,X0=.5;function _f(t,e=Q0,n=K0){const r=e*Math.pow(n,t),i=Math.round(X0*r*(Math.random()-.5)*2);return Math.min(q0,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class Bt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Go;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ew(e))try{this.getOrInitializeService({instanceIdentifier:xn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xn){return this.instances.has(e)}getOptions(e=xn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xn){return this.component?this.component.multipleInstances?e:xn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z0(t){return t===xn?void 0:t}function ew(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(X||(X={}));const nw={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},rw=X.INFO,iw={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},sw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iw[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pc{constructor(e){this.name=e,this._logLevel=rw,this._logHandler=sw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}const ow=(t,e)=>e.some(n=>t instanceof n);let yf,vf;function lw(){return yf||(yf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aw(){return vf||(vf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qm=new WeakMap,Qa=new WeakMap,Km=new WeakMap,Ll=new WeakMap,mc=new WeakMap;function uw(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(un(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Qm.set(n,t)}).catch(()=>{}),mc.set(e,t),e}function cw(t){if(Qa.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qa.set(t,e)}let Ka={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qa.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Km.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dw(t){Ka=t(Ka)}function fw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fl(this),e,...n);return Km.set(r,e.sort?e.sort():[e]),un(r)}:aw().includes(t)?function(...e){return t.apply(Fl(this),e),un(Qm.get(this))}:function(...e){return un(t.apply(Fl(this),e))}}function hw(t){return typeof t=="function"?fw(t):(t instanceof IDBTransaction&&cw(t),ow(t,lw())?new Proxy(t,Ka):t)}function un(t){if(t instanceof IDBRequest)return uw(t);if(Ll.has(t))return Ll.get(t);const e=hw(t);return e!==t&&(Ll.set(t,e),mc.set(e,t)),e}const Fl=t=>mc.get(t);function pw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=un(o);return r&&o.addEventListener("upgradeneeded",a=>{r(un(o.result),a.oldVersion,a.newVersion,un(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const mw=["get","getKey","getAll","getAllKeys","count"],gw=["put","add","delete","clear"],bl=new Map;function wf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bl.get(e))return bl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mw.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return bl.set(e,s),s}dw(t=>({...t,get:(e,n,r)=>wf(e,n)||t.get(e,n,r),has:(e,n)=>!!wf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qa="@firebase/app",Sf="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new pc("@firebase/app"),vw="@firebase/app-compat",ww="@firebase/analytics-compat",Sw="@firebase/analytics",Ew="@firebase/app-check-compat",Cw="@firebase/app-check",Iw="@firebase/auth",kw="@firebase/auth-compat",Tw="@firebase/database",xw="@firebase/database-compat",Nw="@firebase/functions",Dw="@firebase/functions-compat",Rw="@firebase/installations",Pw="@firebase/installations-compat",Ow="@firebase/messaging",Aw="@firebase/messaging-compat",Mw="@firebase/performance",Lw="@firebase/performance-compat",Fw="@firebase/remote-config",bw="@firebase/remote-config-compat",jw="@firebase/storage",$w="@firebase/storage-compat",Uw="@firebase/firestore",zw="@firebase/firestore-compat",Bw="firebase",Ww="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="[DEFAULT]",Vw={[qa]:"fire-core",[vw]:"fire-core-compat",[Sw]:"fire-analytics",[ww]:"fire-analytics-compat",[Cw]:"fire-app-check",[Ew]:"fire-app-check-compat",[Iw]:"fire-auth",[kw]:"fire-auth-compat",[Tw]:"fire-rtdb",[xw]:"fire-rtdb-compat",[Nw]:"fire-fn",[Dw]:"fire-fn-compat",[Rw]:"fire-iid",[Pw]:"fire-iid-compat",[Ow]:"fire-fcm",[Aw]:"fire-fcm-compat",[Mw]:"fire-perf",[Lw]:"fire-perf-compat",[Fw]:"fire-rc",[bw]:"fire-rc-compat",[jw]:"fire-gcs",[$w]:"fire-gcs-compat",[Uw]:"fire-fst",[zw]:"fire-fst-compat","fire-js":"fire-js",[Bw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new Map,Ja=new Map;function Hw(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gn(t){const e=t.name;if(Ja.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;Ja.set(e,t);for(const n of ho.values())Hw(n,t);return!0}function Xi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},cn=new Yo("app","Firebase",Gw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=Ww;function qm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cn.create("bad-app-name",{appName:String(i)});if(n||(n=Bm()),!n)throw cn.create("no-options");const s=ho.get(i);if(s){if(fo(n,s.options)&&fo(r,s.config))return s;throw cn.create("duplicate-app",{appName:i})}const o=new tw(i);for(const a of Ja.values())o.addComponent(a);const l=new Yw(n,r,o);return ho.set(i,l),l}function Xm(t=Xa){const e=ho.get(t);if(!e&&t===Xa&&Bm())return qm();if(!e)throw cn.create("no-app",{appName:t});return e}function xt(t,e,n){var r;let i=(r=Vw[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(l.join(" "));return}gn(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="firebase-heartbeat-database",qw=1,ji="firebase-heartbeat-store";let jl=null;function Jm(){return jl||(jl=pw(Kw,qw,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ji)}}}).catch(t=>{throw cn.create("idb-open",{originalErrorMessage:t.message})})),jl}async function Xw(t){try{return await(await Jm()).transaction(ji).objectStore(ji).get(Zm(t))}catch(e){if(e instanceof Jn)Vn.warn(e.message);else{const n=cn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vn.warn(n.message)}}}async function Ef(t,e){try{const r=(await Jm()).transaction(ji,"readwrite");await r.objectStore(ji).put(e,Zm(t)),await r.done}catch(n){if(n instanceof Jn)Vn.warn(n.message);else{const r=cn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vn.warn(r.message)}}}function Zm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=1024,Zw=30*24*60*60*1e3;class eS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Cf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Zw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Cf(),{heartbeatsToSend:n,unsentEntries:r}=tS(this._heartbeatsCache.heartbeats),i=uo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Cf(){return new Date().toISOString().substring(0,10)}function tS(t,e=Jw){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),If(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),If(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hm()?Gm().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Xw(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ef(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ef(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function If(t){return uo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){gn(new Bt("platform-logger",e=>new _w(e),"PRIVATE")),gn(new Bt("heartbeat",e=>new eS(e),"PRIVATE")),xt(qa,Sf,t),xt(qa,Sf,"esm2017"),xt("fire-js","")}rS("");const iS=(t,e)=>e.some(n=>t instanceof n);let kf,Tf;function sS(){return kf||(kf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oS(){return Tf||(Tf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eg=new WeakMap,Za=new WeakMap,tg=new WeakMap,$l=new WeakMap,gc=new WeakMap;function lS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(dn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eg.set(n,t)}).catch(()=>{}),gc.set(e,t),e}function aS(t){if(Za.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Za.set(t,e)}let eu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Za.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uS(t){eu=t(eu)}function cS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ul(this),e,...n);return tg.set(r,e.sort?e.sort():[e]),dn(r)}:oS().includes(t)?function(...e){return t.apply(Ul(this),e),dn(eg.get(this))}:function(...e){return dn(t.apply(Ul(this),e))}}function dS(t){return typeof t=="function"?cS(t):(t instanceof IDBTransaction&&aS(t),iS(t,sS())?new Proxy(t,eu):t)}function dn(t){if(t instanceof IDBRequest)return lS(t);if($l.has(t))return $l.get(t);const e=dS(t);return e!==t&&($l.set(t,e),gc.set(e,t)),e}const Ul=t=>gc.get(t);function fS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=dn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(dn(o.result),a.oldVersion,a.newVersion,dn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const hS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],zl=new Map;function xf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zl.get(e))return zl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hS.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return zl.set(e,s),s}uS(t=>({...t,get:(e,n,r)=>xf(e,n)||t.get(e,n,r),has:(e,n)=>!!xf(e,n)||t.has(e,n)}));const ng="@firebase/installations",_c="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=1e4,ig=`w:${_c}`,sg="FIS_v2",mS="https://firebaseinstallations.googleapis.com/v1",gS=60*60*1e3,_S="installations",yS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Hn=new Yo(_S,yS,vS);function og(t){return t instanceof Jn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg({projectId:t}){return`${mS}/projects/${t}/installations`}function ag(t){return{token:t.token,requestStatus:2,expiresIn:SS(t.expiresIn),creationTime:Date.now()}}async function ug(t,e){const r=(await e.json()).error;return Hn.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function cg({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function wS(t,{refreshToken:e}){const n=cg(t);return n.append("Authorization",ES(e)),n}async function dg(t){const e=await t();return e.status>=500&&e.status<600?t():e}function SS(t){return Number(t.replace("s","000"))}function ES(t){return`${sg} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CS({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=lg(t),i=cg(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:sg,appId:t.appId,sdkVersion:ig},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await dg(()=>fetch(r,l));if(a.ok){const u=await a.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:ag(u.authToken)}}else throw await ug("Create Installation",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=/^[cdef][\w-]{21}$/,tu="";function TS(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=xS(t);return kS.test(n)?n:tu}catch{return tu}}function xS(t){return IS(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Map;function pg(t,e){const n=Ko(t);mg(n,e),NS(n,e)}function mg(t,e){const n=hg.get(t);if(n)for(const r of n)r(e)}function NS(t,e){const n=DS();n&&n.postMessage({key:t,fid:e}),RS()}let An=null;function DS(){return!An&&"BroadcastChannel"in self&&(An=new BroadcastChannel("[Firebase] FID Change"),An.onmessage=t=>{mg(t.data.key,t.data.fid)}),An}function RS(){hg.size===0&&An&&(An.close(),An=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebase-installations-database",OS=1,Gn="firebase-installations-store";let Bl=null;function yc(){return Bl||(Bl=fS(PS,OS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gn)}}})),Bl}async function po(t,e){const n=Ko(t),i=(await yc()).transaction(Gn,"readwrite"),s=i.objectStore(Gn),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&pg(t,e.fid),e}async function gg(t){const e=Ko(t),r=(await yc()).transaction(Gn,"readwrite");await r.objectStore(Gn).delete(e),await r.done}async function qo(t,e){const n=Ko(t),i=(await yc()).transaction(Gn,"readwrite"),s=i.objectStore(Gn),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&pg(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(t){let e;const n=await qo(t.appConfig,r=>{const i=AS(r),s=MS(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===tu?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function AS(t){const e=t||{fid:TS(),registrationStatus:0};return _g(e)}function MS(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Hn.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=LS(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FS(t)}:{installationEntry:e}}async function LS(t,e){try{const n=await CS(t,e);return po(t.appConfig,n)}catch(n){throw og(n)&&n.customData.serverCode===409?await gg(t.appConfig):await po(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function FS(t){let e=await Nf(t.appConfig);for(;e.registrationStatus===1;)await fg(100),e=await Nf(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await vc(t);return r||n}return e}function Nf(t){return qo(t,e=>{if(!e)throw Hn.create("installation-not-found");return _g(e)})}function _g(t){return bS(t)?{fid:t.fid,registrationStatus:0}:t}function bS(t){return t.registrationStatus===1&&t.registrationTime+rg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jS({appConfig:t,heartbeatServiceProvider:e},n){const r=$S(t,n),i=wS(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:ig,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},a=await dg(()=>fetch(r,l));if(a.ok){const u=await a.json();return ag(u)}else throw await ug("Generate Auth Token",a)}function $S(t,{fid:e}){return`${lg(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(t,e=!1){let n;const r=await qo(t.appConfig,s=>{if(!yg(s))throw Hn.create("not-registered");const o=s.authToken;if(!e&&BS(o))return s;if(o.requestStatus===1)return n=US(t,e),s;{if(!navigator.onLine)throw Hn.create("app-offline");const l=VS(s);return n=zS(t,l),l}});return n?await n:r.authToken}async function US(t,e){let n=await Df(t.appConfig);for(;n.authToken.requestStatus===1;)await fg(100),n=await Df(t.appConfig);const r=n.authToken;return r.requestStatus===0?wc(t,e):r}function Df(t){return qo(t,e=>{if(!yg(e))throw Hn.create("not-registered");const n=e.authToken;return HS(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function zS(t,e){try{const n=await jS(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await po(t.appConfig,r),n}catch(n){if(og(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await gg(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await po(t.appConfig,r)}throw n}}function yg(t){return t!==void 0&&t.registrationStatus===2}function BS(t){return t.requestStatus===2&&!WS(t)}function WS(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+gS}function VS(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function HS(t){return t.requestStatus===1&&t.requestTime+rg<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(t){const e=t,{installationEntry:n,registrationPromise:r}=await vc(e);return r?r.catch(console.error):wc(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(t,e=!1){const n=t;return await QS(n),(await wc(n,e)).token}async function QS(t){const{registrationPromise:e}=await vc(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){if(!t||!t.options)throw Wl("App Configuration");if(!t.name)throw Wl("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Wl(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Wl(t){return Hn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="installations",qS="installations-internal",XS=t=>{const e=t.getProvider("app").getImmediate(),n=KS(e),r=Xi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},JS=t=>{const e=t.getProvider("app").getImmediate(),n=Xi(e,vg).getImmediate();return{getId:()=>GS(n),getToken:i=>YS(n,i)}};function ZS(){gn(new Bt(vg,XS,"PUBLIC")),gn(new Bt(qS,JS,"PRIVATE"))}ZS();xt(ng,_c);xt(ng,_c,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="analytics",eE="firebase_id",tE="origin",nE=60*1e3,rE="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sc="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge=new pc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Je=new Yo("analytics","Analytics",iE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){if(!t.startsWith(Sc)){const e=Je.create("invalid-gtag-resource",{gtagURL:t});return Ge.warn(e.message),""}return t}function wg(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function oE(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function lE(t,e){const n=oE("firebase-js-sdk-policy",{createScriptURL:sE}),r=document.createElement("script"),i=`${Sc}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function aE(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function uE(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const a=(await wg(n)).find(u=>u.measurementId===i);a&&await e[a.appId]}}catch(l){Ge.error(l)}t("config",i,s)}async function cE(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await wg(n);for(const a of o){const u=l.find(d=>d.measurementId===a),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ge.error(s)}}function dE(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,a]=o;await cE(t,e,n,l,a)}else if(s==="config"){const[l,a]=o;await uE(t,e,n,r,l,a)}else if(s==="consent"){const[l]=o;t("consent","update",l)}else if(s==="get"){const[l,a,u]=o;t("get",l,a,u)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){Ge.error(l)}}return i}function fE(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=dE(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function hE(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sc)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=30,mE=1e3;class gE{constructor(e={},n=mE){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Sg=new gE;function _E(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yE(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:_E(r)},s=rE.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const a=await o.json();!((e=a.error)===null||e===void 0)&&e.message&&(l=a.error.message)}catch{}throw Je.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function vE(t,e=Sg,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Je.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Je.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new EE;return setTimeout(async()=>{l.abort()},n!==void 0?n:nE),Eg({appId:r,apiKey:i,measurementId:s},o,l,e)}async function Eg(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Sg){var s;const{appId:o,measurementId:l}=t;try{await wE(r,e)}catch(a){if(l)return Ge.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${a==null?void 0:a.message}]`),{appId:o,measurementId:l};throw a}try{const a=await yE(t);return i.deleteThrottleMetadata(o),a}catch(a){const u=a;if(!SE(u)){if(i.deleteThrottleMetadata(o),l)return Ge.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw a}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?_f(n,i.intervalMillis,pE):_f(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ge.debug(`Calling attemptFetch again in ${c} millis`),Eg(t,d,r,i)}}function wE(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Je.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function SE(t){if(!(t instanceof Jn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class EE{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function CE(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IE(){if(Hm())try{await Gm()}catch(t){return Ge.warn(Je.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ge.warn(Je.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kE(t,e,n,r,i,s,o){var l;const a=vE(t);a.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&Ge.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>Ge.error(g)),e.push(a);const u=IE().then(g=>{if(g)return r.getId()}),[c,d]=await Promise.all([a,u]);hE(s)||lE(s,c.measurementId),i("js",new Date);const f=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return f[tE]="firebase",f.update=!0,d!=null&&(f[eE]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.app=e}_delete(){return delete mi[this.app.options.appId],Promise.resolve()}}let mi={},Rf=[];const Pf={};let Vl="dataLayer",xE="gtag",Of,Cg,Af=!1;function NE(){const t=[];if(b0()&&t.push("This is a browser extension environment."),$0()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Je.create("invalid-analytics-context",{errorInfo:e});Ge.warn(n.message)}}function DE(t,e,n){NE();const r=t.options.appId;if(!r)throw Je.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ge.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Je.create("no-api-key");if(mi[r]!=null)throw Je.create("already-exists",{id:r});if(!Af){aE(Vl);const{wrappedGtag:s,gtagCore:o}=fE(mi,Rf,Pf,Vl,xE);Cg=s,Of=o,Af=!0}return mi[r]=kE(t,Rf,Pf,e,Of,Vl,n),new TE(t)}function RE(t=Xm()){t=Cn(t);const e=Xi(t,mo);return e.isInitialized()?e.getImmediate():PE(t)}function PE(t,e={}){const n=Xi(t,mo);if(n.isInitialized()){const i=n.getImmediate();if(fo(e,n.getOptions()))return i;throw Je.create("already-initialized")}return n.initialize({options:e})}function OE(t,e,n,r){t=Cn(t),CE(Cg,mi[t.app.options.appId],e,n,r).catch(i=>Ge.error(i))}const Mf="@firebase/analytics",Lf="0.10.0";function AE(){gn(new Bt(mo,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return DE(r,i,n)},"PUBLIC")),gn(new Bt("analytics-internal",t,"PRIVATE")),xt(Mf,Lf),xt(Mf,Lf,"esm2017");function t(e){try{const n=e.getProvider(mo).getImmediate();return{logEvent:(r,i,s)=>OE(n,r,i,s)}}catch(n){throw Je.create("interop-component-reg-failed",{reason:n})}}}AE();var ME="firebase",LE="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt(ME,LE,"app");const Ff="@firebase/database",bf="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig="";function FE(t){Ig=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:bi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ht(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new bE(e)}}catch{}return new jE},Mn=kg("localStorage"),nu=kg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new pc("@firebase/database"),$E=function(){let t=1;return function(){return t++}}(),Tg=function(t){const e=Y0(t),n=new G0;n.update(e);const r=n.digest();return fc.encodeByteArray(r)},Ji=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ji.apply(null,r):typeof r=="object"?e+=pe(r):e+=r,e+=" "}return e};let jn=null,jf=!0;const UE=function(t,e){x(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Er.logLevel=X.VERBOSE,jn=Er.log.bind(Er),e&&nu.set("logging_enabled",!0)):typeof t=="function"?jn=t:(jn=null,nu.remove("logging_enabled"))},Pe=function(...t){if(jf===!0&&(jf=!1,jn===null&&nu.get("logging_enabled")===!0&&UE(!0)),jn){const e=Ji.apply(null,t);jn(e)}},Zi=function(t){return function(...e){Pe(t,...e)}},ru=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ji(...t);Er.error(e)},Wt=function(...t){const e=`FIREBASE FATAL ERROR: ${Ji(...t)}`;throw Er.error(e),new Error(e)},Ye=function(...t){const e="FIREBASE WARNING: "+Ji(...t);Er.warn(e)},zE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ye("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},xg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},BE=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ar="[MIN_NAME]",Yn="[MAX_NAME]",zr=function(t,e){if(t===e)return 0;if(t===Ar||e===Yn)return-1;if(e===Ar||t===Yn)return 1;{const n=$f(t),r=$f(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},WE=function(t,e){return t===e?0:t<e?-1:1},Jr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+pe(e))},Ec=function(t){if(typeof t!="object"||t===null)return pe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=pe(e[r]),n+=":",n+=Ec(t[e[r]]);return n+="}",n},Ng=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Dg=function(t){x(!xg(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(c.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},VE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},HE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function GE(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const YE=new RegExp("^-?(0*)\\d{1,10}$"),QE=-2147483648,KE=2147483647,$f=function(t){if(YE.test(t)){const e=Number(t);if(e>=QE&&e<=KE)return e}return null},Br=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ye("Exception was thrown by user callback.",n),e},Math.floor(0))}},qE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ye(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ye(e)}}class Cr{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Cr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc="5",Rg="v",Pg="s",Og="r",Ag="f",Mg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Lg="ls",Fg="p",iu="ac",bg="websocket",jg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Mn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Mn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function ZE(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ug(t,e,n){x(typeof e=="string","typeof type must == string"),x(typeof n=="object","typeof params must == object");let r;if(e===bg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===jg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ZE(t)&&(n.ns=t.namespace);const i=[];return Qe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.counters_={}}incrementCounter(e,n=1){Ht(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return x0(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl={},Gl={};function Ic(t){const e=t.toString();return Hl[e]||(Hl[e]=new e1),Hl[e]}function t1(t,e){const n=t.toString();return Gl[n]||(Gl[n]=e()),Gl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Br(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="start",r1="close",i1="pLPCommand",s1="pRTLPCB",zg="id",Bg="pw",Wg="ser",o1="cb",l1="seg",a1="ts",u1="d",c1="dframe",Vg=1870,Hg=30,d1=Vg-Hg,f1=25e3,h1=3e4;class mr{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zi(e),this.stats_=Ic(n),this.urlFn=a=>(this.appCheckToken&&(a[iu]=this.appCheckToken),Ug(n,jg,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new n1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(h1)),BE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kc((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Uf)this.id=l,this.password=a;else if(o===r1)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Uf]="t",r[Wg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[o1]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Rg]=Cc,this.transportSessionId&&(r[Pg]=this.transportSessionId),this.lastSessionId&&(r[Lg]=this.lastSessionId),this.applicationId&&(r[Fg]=this.applicationId),this.appCheckToken&&(r[iu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Mg.test(location.hostname)&&(r[Og]=Ag);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mr.forceAllow_=!0}static forceDisallow(){mr.forceDisallow_=!0}static isAvailable(){return mr.forceAllow_?!0:!mr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!VE()&&!HE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=$m(n),i=Ng(r,d1);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[c1]="t",r[zg]=e,r[Bg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class kc{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$E(),window[i1+this.uniqueCallbackIdentifier]=e,window[s1+this.uniqueCallbackIdentifier]=n,this.myIFrame=kc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Pe("frame writing exception"),l.stack&&Pe(l.stack),Pe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[zg]=this.myID,e[Bg]=this.myPW,e[Wg]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Hg+r.length<=Vg;){const o=this.pendingSegs.shift();r=r+"&"+l1+i+"="+o.seg+"&"+a1+i+"="+o.ts+"&"+u1+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(f1)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Pe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=16384,m1=45e3;let go=null;typeof MozWebSocket<"u"?go=MozWebSocket:typeof WebSocket<"u"&&(go=WebSocket);class ft{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zi(this.connId),this.stats_=Ic(n),this.connURL=ft.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Rg]=Cc,typeof location<"u"&&location.hostname&&Mg.test(location.hostname)&&(o[Og]=Ag),n&&(o[Pg]=n),r&&(o[Lg]=r),i&&(o[iu]=i),s&&(o[Fg]=s),Ug(e,bg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Mn.set("previous_websocket_failure",!0);try{let r;Vm(),this.mySock=new go(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ft.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&go!==null&&!ft.forceDisallow_}static previouslyFailed(){return Mn.isInMemoryStorage||Mn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Mn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=bi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(x(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ng(n,p1);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(m1))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ft.responsesRequiredToBeHealthy=2;ft.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[mr,ft]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ft&&ft.isAvailable();let r=n&&!ft.previouslyFailed();if(e.webSocketOnly&&(n||Ye("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ft];else{const i=this.transports_=[];for(const s of $i.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);$i.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$i.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=6e4,_1=5e3,y1=10*1024,v1=100*1024,Yl="t",zf="d",w1="s",Bf="r",S1="e",Wf="o",Vf="a",Hf="n",Gf="p",E1="h";class C1{constructor(e,n,r,i,s,o,l,a,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zi("c:"+this.id+":"),this.transportManager_=new $i(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=gi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>v1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>y1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yl in e){const n=e[Yl];n===Vf?this.upgradeIfSecondaryHealthy_():n===Bf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Wf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Jr("t",e),r=Jr("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Vf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hf,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Jr("t",e),r=Jr("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Jr(Yl,e);if(zf in e){const r=e[zf];if(n===E1){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Hf){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===w1?this.onConnectionShutdown_(r):n===Bf?this.onReset_(r):n===S1?ru("Server Error: "+r):n===Wf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ru("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cc!==r&&Ye("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(g1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Mn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.allowedEvents_=e,this.listeners_={},x(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){x(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Yg{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Wm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _o}getInitialEvent(e){return x(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=32,Qf=768;class q{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function G(){return new q("")}function z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _n(t){return t.pieces_.length-t.pieceNum_}function J(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new q(t.pieces_,e)}function Qg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function I1(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Kg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function qg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new q(e,0)}function me(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof q)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new q(n,0)}function W(t){return t.pieceNum_>=t.pieces_.length}function Me(t,e){const n=z(t),r=z(e);if(n===null)return e;if(n===r)return Me(J(t),J(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Tc(t,e){if(_n(t)!==_n(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ht(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(_n(t)>_n(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class k1{constructor(e,n){this.errorPrefix_=n,this.parts_=Kg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Qo(this.parts_[r]);Xg(this)}}function T1(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Qo(e),Xg(t)}function x1(t){const e=t.parts_.pop();t.byteLength_-=Qo(e),t.parts_.length>0&&(t.byteLength_-=1)}function Xg(t){if(t.byteLength_>Qf)throw new Error(t.errorPrefix_+"has a key path longer than "+Qf+" bytes ("+t.byteLength_+").");if(t.parts_.length>Yf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yf+") or object contains a cycle "+Nn(t))}function Nn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Yg{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new xc}getInitialEvent(e){return x(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=1e3,N1=60*5*1e3,Kf=30*1e3,D1=1.3,R1=3e4,P1="server_kill",qf=3;class Ft extends Gg{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Ft.nextPersistentConnectionId_++,this.log_=Zi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zr,this.maxReconnectDelay_=N1,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Vm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_o.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(pe(s)),x(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Go,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),x(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),x(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Ft.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ht(e,"w")){const r=Or(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ye(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||V0(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Kf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=W0(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),x(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+pe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ru("Unrecognized action received from server: "+pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){x(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>R1&&(this.reconnectDelay_=Zr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*D1)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ft.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){x(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new C1(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{Ye(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(P1)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ye(d),a())}}}interrupt(e){Pe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],mf(this.interruptReasons_)&&(this.reconnectDelay_=Zr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Ec(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new q(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Pe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qf&&(this.reconnectDelay_=Kf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ig.replace(/\./g,"-")]=1,Wm()?e["framework.cordova"]=1:j0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=_o.getInstance().currentlyOnline();return mf(this.interruptReasons_)&&e}}Ft.nextPersistentConnectionId_=0;Ft.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new B(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new B(Ar,e),i=new B(Ar,n);return this.compare(r,i)!==0}minPost(){return B.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs;class Jg extends Xo{static get __EMPTY_NODE(){return Cs}static set __EMPTY_NODE(e){Cs=e}compare(e,n){return zr(e.name,n.name)}isDefinedOn(e){throw Ur("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return B.MIN}maxPost(){return new B(Yn,Cs)}makePost(e,n){return x(typeof e=="string","KeyIndex indexValue must always be a string."),new B(e,Cs)}toString(){return".key"}}const Ir=new Jg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class we{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??we.RED,this.left=i??Be.EMPTY_NODE,this.right=s??Be.EMPTY_NODE}copy(e,n,r,i,s){return new we(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Be.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Be.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,we.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,we.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}we.RED=!0;we.BLACK=!1;class O1{copy(e,n,r,i,s){return this}insert(e,n,r){return new we(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Be{constructor(e,n=Be.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Be(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,we.BLACK,null,null))}remove(e){return new Be(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,we.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Is(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Is(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Is(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Is(this.root_,null,this.comparator_,!0,e)}}Be.EMPTY_NODE=new O1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t,e){return zr(t.name,e.name)}function Nc(t,e){return zr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su;function M1(t){su=t}const Zg=function(t){return typeof t=="number"?"number:"+Dg(t):"string:"+t},e_=function(t){if(t.isLeafNode()){const e=t.val();x(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ht(e,".sv"),"Priority must be a string or number.")}else x(t===su||t.isEmpty(),"priority of unexpected type.");x(t===su||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf;class ye{constructor(e,n=ye.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,x(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),e_(this.priorityNode_)}static set __childrenNodeConstructor(e){Xf=e}static get __childrenNodeConstructor(){return Xf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ye(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return W(e)?this:z(e)===".priority"?this.priorityNode_:ye.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ye.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=z(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(x(r!==".priority"||_n(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,ye.__childrenNodeConstructor.EMPTY_NODE.updateChild(J(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Zg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Dg(this.value_):e+=this.value_,this.lazyHash_=Tg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ye.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ye.__childrenNodeConstructor?-1:(x(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=ye.VALUE_TYPE_ORDER.indexOf(n),s=ye.VALUE_TYPE_ORDER.indexOf(r);return x(i>=0,"Unknown leaf type: "+n),x(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ye.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_,n_;function L1(t){t_=t}function F1(t){n_=t}class b1 extends Xo{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?zr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return B.MIN}maxPost(){return new B(Yn,new ye("[PRIORITY-POST]",n_))}makePost(e,n){const r=t_(e);return new B(n,new ye("[PRIORITY-POST]",r))}toString(){return".priority"}}const ce=new b1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=Math.log(2);class $1{constructor(e){const n=s=>parseInt(Math.log(s)/j1,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const yo=function(t,e,n,r){t.sort(e);const i=function(a,u){const c=u-a;let d,f;if(c===0)return null;if(c===1)return d=t[a],f=n?n(d):d,new we(f,d.node,we.BLACK,null,null);{const g=parseInt(c/2,10)+a,_=i(a,g),v=i(g+1,u);return d=t[g],f=n?n(d):d,new we(f,d.node,we.BLACK,_,v)}},s=function(a){let u=null,c=null,d=t.length;const f=function(_,v){const w=d-_,p=d;d-=_;const h=i(w+1,p),m=t[w],S=n?n(m):m;g(new we(S,m.node,v,null,h))},g=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<a.count;++_){const v=a.nextBitIsOne(),w=Math.pow(2,a.count-(_+1));v?f(w,we.BLACK):(f(w,we.BLACK),f(w,we.RED))}return c},o=new $1(t.length),l=s(o);return new Be(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql;const tr={};class Mt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return x(tr&&ce,"ChildrenNode.ts has not been loaded"),Ql=Ql||new Mt({".priority":tr},{".priority":ce}),Ql}get(e){const n=Or(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Be?n:null}hasIndex(e){return Ht(this.indexSet_,e.toString())}addIndex(e,n){x(e!==Ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(B.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=yo(r,e.getCompare()):l=tr;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const c=Object.assign({},this.indexes_);return c[a]=l,new Mt(c,u)}addToIndexes(e,n){const r=co(this.indexes_,(i,s)=>{const o=Or(this.indexSet_,s);if(x(o,"Missing index implementation for "+s),i===tr)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(B.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),yo(l,o.getCompare())}else return tr;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new B(e.name,l))),a.insert(e,e.node)}});return new Mt(r,this.indexSet_)}removeFromIndexes(e,n){const r=co(this.indexes_,i=>{if(i===tr)return i;{const s=n.get(e.name);return s?i.remove(new B(e.name,s)):i}});return new Mt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ei;class F{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&e_(this.priorityNode_),this.children_.isEmpty()&&x(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ei||(ei=new F(new Be(Nc),null,Mt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ei}updatePriority(e){return this.children_.isEmpty()?this:new F(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ei:n}}getChild(e){const n=z(e);return n===null?this:this.getImmediateChild(n).getChild(J(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(x(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new B(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ei:this.priorityNode_;return new F(i,o,s)}}updateChild(e,n){const r=z(e);if(r===null)return n;{x(z(e)!==".priority"||_n(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(J(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ce,(o,l)=>{n[o]=l.val(e),r++,s&&F.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Zg(this.getPriority().val())+":"),this.forEachChild(ce,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Tg(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new B(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new B(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new B(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,B.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,B.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===es?-1:0}withIndex(e){if(e===Ir||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new F(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ir||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ce),i=n.getIterator(ce);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ir?null:this.indexMap_.get(e.toString())}}F.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class U1 extends F{constructor(){super(new Be(Nc),F.EMPTY_NODE,Mt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return F.EMPTY_NODE}isEmpty(){return!1}}const es=new U1;Object.defineProperties(B,{MIN:{value:new B(Ar,F.EMPTY_NODE)},MAX:{value:new B(Yn,es)}});Jg.__EMPTY_NODE=F.EMPTY_NODE;ye.__childrenNodeConstructor=F;M1(es);F1(es);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=!0;function Se(t,e=null){if(t===null)return F.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),x(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ye(n,Se(e))}if(!(t instanceof Array)&&z1){const n=[];let r=!1;if(Qe(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Se(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new B(o,a)))}}),n.length===0)return F.EMPTY_NODE;const s=yo(n,A1,o=>o.name,Nc);if(r){const o=yo(n,ce.getCompare());return new F(s,Se(e),new Mt({".priority":o},{".priority":ce}))}else return new F(s,Se(e),Mt.Default)}else{let n=F.EMPTY_NODE;return Qe(t,(r,i)=>{if(Ht(t,r)&&r.substring(0,1)!=="."){const s=Se(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Se(e))}}L1(Se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends Xo{constructor(e){super(),this.indexPath_=e,x(!W(e)&&z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?zr(e.name,n.name):s}makePost(e,n){const r=Se(e),i=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new B(n,i)}maxPost(){const e=F.EMPTY_NODE.updateChild(this.indexPath_,es);return new B(Yn,e)}toString(){return Kg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Xo{compare(e,n){const r=e.node.compareTo(n.node);return r===0?zr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return B.MIN}maxPost(){return B.MAX}makePost(e,n){const r=Se(e);return new B(n,r)}toString(){return".value"}}const V1=new W1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){return{type:"value",snapshotNode:t}}function Mr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ui(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function H1(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){x(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ui(n,l)):x(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Mr(n,r)):o.trackChildChange(zi(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ce,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ui(i,s))}),n.isLeafNode()||n.forEachChild(ce,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(zi(i,s,o))}else r.trackChildChange(Mr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?F.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.indexedFilter_=new Dc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Bi.getStartPost_(e),this.endPost_=Bi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new B(n,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=F.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(F.EMPTY_NODE);const s=this;return n.forEachChild(ce,(o,l)=>{s.matches(new B(o,l))||(i=i.updateImmediateChild(o,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Bi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new B(n,r))||(r=F.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=F.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(F.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,g)=>d(g,f)}else o=this.index_.getCompare();const l=e;x(l.numChildren()===this.limit_,"");const a=new B(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const g=f==null?1:o(f,a);if(c&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(zi(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ui(n,d));const v=l.updateImmediateChild(n,F.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Mr(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?e:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Ui(u.name,u.node)),s.trackChildChange(Mr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,F.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return x(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return x(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ar}hasEnd(){return this.endSet_}getIndexEndValue(){return x(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return x(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return x(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ce}copy(){const e=new Rc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Y1(t){return t.loadsAllData()?new Dc(t.getIndex()):t.hasLimit()?new G1(t):new Bi(t)}function Jf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ce?n="$priority":t.index_===V1?n="$value":t.index_===Ir?n="$key":(x(t.index_ instanceof B1,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=pe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+pe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Zf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ce&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Gg{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Zi("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(x(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=vo.getListenId_(e,r),l={};this.listens_[o]=l;const a=Jf(e._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Or(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=vo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Jf(e._queryParams),r=e._path.toString(),i=new Go;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+H0(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=bi(l.responseText)}catch{Ye("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&Ye("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(){return{value:null,children:new Map}}function i_(t,e,n){if(W(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=z(e);t.children.has(r)||t.children.set(r,wo());const i=t.children.get(r);e=J(e),i_(i,e,n)}}function ou(t,e,n){t.value!==null?n(e,t.value):K1(t,(r,i)=>{const s=new q(e.toString()+"/"+r);ou(i,s,n)})}function K1(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Qe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=10*1e3,X1=30*1e3,J1=5*60*1e3;class Z1{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new q1(e);const r=eh+(X1-eh)*Math.random();gi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Qe(e,(i,s)=>{s>0&&Ht(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),gi(this.reportStats_.bind(this),Math.floor(Math.random()*2*J1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pt||(pt={}));function s_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Pc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Oc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=pt.ACK_USER_WRITE,this.source=s_()}operationForChild(e){if(W(this.path)){if(this.affectedTree.value!=null)return x(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new q(e));return new So(G(),n,this.revert)}}else return x(z(this.path)===e,"operationForChild called for unrelated child."),new So(J(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.source=e,this.path=n,this.type=pt.LISTEN_COMPLETE}operationForChild(e){return W(this.path)?new Wi(this.source,G()):new Wi(this.source,J(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=pt.OVERWRITE}operationForChild(e){return W(this.path)?new Qn(this.source,G(),this.snap.getImmediateChild(e)):new Qn(this.source,J(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=pt.MERGE}operationForChild(e){if(W(this.path)){const n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new Qn(this.source,G(),n.value):new Vi(this.source,G(),n)}else return x(z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vi(this.source,J(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(W(e))return this.isFullyInitialized()&&!this.filtered_;const n=z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function tC(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(H1(o.childName,o.snapshotNode))}),ti(t,i,"child_removed",e,r,n),ti(t,i,"child_added",e,r,n),ti(t,i,"child_moved",s,r,n),ti(t,i,"child_changed",e,r,n),ti(t,i,"value",e,r,n),i}function ti(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>rC(t,l,a)),o.forEach(l=>{const a=nC(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function nC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rC(t,e,n){if(e.childName==null||n.childName==null)throw Ur("Should only compare child_ events.");const r=new B(e.childName,e.snapshotNode),i=new B(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){return{eventCache:t,serverCache:e}}function _i(t,e,n,r){return Jo(new yn(e,n,r),t.serverCache)}function o_(t,e,n,r){return Jo(t.eventCache,new yn(e,n,r))}function Eo(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Kn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl;const iC=()=>(Kl||(Kl=new Be(WE)),Kl);class te{constructor(e,n=iC()){this.value=e,this.children=n}static fromObject(e){let n=new te(null);return Qe(e,(r,i)=>{n=n.set(new q(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:G(),value:this.value};if(W(e))return null;{const r=z(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(J(e),n);return s!=null?{path:me(new q(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(W(e))return this;{const n=z(e),r=this.children.get(n);return r!==null?r.subtree(J(e)):new te(null)}}set(e,n){if(W(e))return new te(n,this.children);{const r=z(e),s=(this.children.get(r)||new te(null)).set(J(e),n),o=this.children.insert(r,s);return new te(this.value,o)}}remove(e){if(W(e))return this.children.isEmpty()?new te(null):new te(null,this.children);{const n=z(e),r=this.children.get(n);if(r){const i=r.remove(J(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new te(null):new te(this.value,s)}else return this}}get(e){if(W(e))return this.value;{const n=z(e),r=this.children.get(n);return r?r.get(J(e)):null}}setTree(e,n){if(W(e))return n;{const r=z(e),s=(this.children.get(r)||new te(null)).setTree(J(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new te(this.value,o)}}fold(e){return this.fold_(G(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(me(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,G(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(W(e))return null;{const s=z(e),o=this.children.get(s);return o?o.findOnPath_(J(e),me(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,G(),n)}foreachOnPath_(e,n,r){if(W(e))return this;{this.value&&r(n,this.value);const i=z(e),s=this.children.get(i);return s?s.foreachOnPath_(J(e),me(n,i),r):new te(null)}}foreach(e){this.foreach_(G(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(me(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.writeTree_=e}static empty(){return new yt(new te(null))}}function yi(t,e,n){if(W(e))return new yt(new te(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Me(i,e);return s=s.updateChild(o,n),new yt(t.writeTree_.set(i,s))}else{const i=new te(n),s=t.writeTree_.setTree(e,i);return new yt(s)}}}function th(t,e,n){let r=t;return Qe(n,(i,s)=>{r=yi(r,me(e,i),s)}),r}function nh(t,e){if(W(e))return yt.empty();{const n=t.writeTree_.setTree(e,new te(null));return new yt(n)}}function lu(t,e){return Zn(t,e)!=null}function Zn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Me(n.path,e)):null}function rh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ce,(r,i)=>{e.push(new B(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new B(r,i.value))}),e}function fn(t,e){if(W(e))return t;{const n=Zn(t,e);return n!=null?new yt(new te(n)):new yt(t.writeTree_.subtree(e))}}function au(t){return t.writeTree_.isEmpty()}function Lr(t,e){return l_(G(),t.writeTree_,e)}function l_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(x(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=l_(me(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(me(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t,e){return d_(e,t)}function sC(t,e,n,r,i){x(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=yi(t.visibleWrites,e,n)),t.lastWriteId=r}function oC(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function lC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);x(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&aC(l,r.path)?i=!1:ht(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return uC(t),!0;if(r.snap)t.visibleWrites=nh(t.visibleWrites,r.path);else{const l=r.children;Qe(l,a=>{t.visibleWrites=nh(t.visibleWrites,me(r.path,a))})}return!0}else return!1}function aC(t,e){if(t.snap)return ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ht(me(t.path,n),e))return!0;return!1}function uC(t){t.visibleWrites=a_(t.allWrites,cC,G()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function cC(t){return t.visible}function a_(t,e,n){let r=yt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)ht(n,o)?(l=Me(n,o),r=yi(r,l,s.snap)):ht(o,n)&&(l=Me(o,n),r=yi(r,G(),s.snap.getChild(l)));else if(s.children){if(ht(n,o))l=Me(n,o),r=th(r,l,s.children);else if(ht(o,n))if(l=Me(o,n),W(l))r=th(r,G(),s.children);else{const a=Or(s.children,z(l));if(a){const u=a.getChild(J(l));r=yi(r,G(),u)}}}else throw Ur("WriteRecord should have .snap or .children")}}return r}function u_(t,e,n,r,i){if(!r&&!i){const s=Zn(t.visibleWrites,e);if(s!=null)return s;{const o=fn(t.visibleWrites,e);if(au(o))return n;if(n==null&&!lu(o,G()))return null;{const l=n||F.EMPTY_NODE;return Lr(o,l)}}}else{const s=fn(t.visibleWrites,e);if(!i&&au(s))return n;if(!i&&n==null&&!lu(s,G()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ht(u.path,e)||ht(e,u.path))},l=a_(t.allWrites,o,e),a=n||F.EMPTY_NODE;return Lr(l,a)}}}function dC(t,e,n){let r=F.EMPTY_NODE;const i=Zn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ce,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=fn(t.visibleWrites,e);return n.forEachChild(ce,(o,l)=>{const a=Lr(fn(s,new q(o)),l);r=r.updateImmediateChild(o,a)}),rh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=fn(t.visibleWrites,e);return rh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function fC(t,e,n,r,i){x(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=me(e,n);if(lu(t.visibleWrites,s))return null;{const o=fn(t.visibleWrites,s);return au(o)?i.getChild(n):Lr(o,i.getChild(n))}}function hC(t,e,n,r){const i=me(e,n),s=Zn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=fn(t.visibleWrites,i);return Lr(o,r.getNode().getImmediateChild(n))}else return null}function pC(t,e){return Zn(t.visibleWrites,e)}function mC(t,e,n,r,i,s,o){let l;const a=fn(t.visibleWrites,e),u=Zn(a,G());if(u!=null)l=u;else if(n!=null)l=Lr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=f.getNext();for(;g&&c.length<i;)d(g,r)!==0&&c.push(g),g=f.getNext();return c}else return[]}function gC(){return{visibleWrites:yt.empty(),allWrites:[],lastWriteId:-1}}function Co(t,e,n,r){return u_(t.writeTree,t.treePath,e,n,r)}function Ac(t,e){return dC(t.writeTree,t.treePath,e)}function ih(t,e,n,r){return fC(t.writeTree,t.treePath,e,n,r)}function Io(t,e){return pC(t.writeTree,me(t.treePath,e))}function _C(t,e,n,r,i,s){return mC(t.writeTree,t.treePath,e,n,r,i,s)}function Mc(t,e,n){return hC(t.writeTree,t.treePath,e,n)}function c_(t,e){return d_(me(t.treePath,e),t.writeTree)}function d_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;x(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),x(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,zi(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ui(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Mr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,zi(r,e.snapshotNode,i.oldSnap));else throw Ur("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const f_=new vC;class Lc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new yn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Kn(this.viewCache_),s=_C(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){return{filter:t}}function SC(t,e){x(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),x(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function EC(t,e,n,r,i){const s=new yC;let o,l;if(n.type===pt.OVERWRITE){const u=n;u.source.fromUser?o=uu(t,e,u.path,u.snap,r,i,s):(x(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!W(u.path),o=ko(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===pt.MERGE){const u=n;u.source.fromUser?o=IC(t,e,u.path,u.children,r,i,s):(x(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=cu(t,e,u.path,u.children,r,i,l,s))}else if(n.type===pt.ACK_USER_WRITE){const u=n;u.revert?o=xC(t,e,u.path,r,i,s):o=kC(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===pt.LISTEN_COMPLETE)o=TC(t,e,n.path,r,s);else throw Ur("Unknown operation type: "+n.type);const a=s.getChanges();return CC(e,o,a),{viewCache:o,changes:a}}function CC(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Eo(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(r_(Eo(e)))}}function h_(t,e,n,r,i,s){const o=e.eventCache;if(Io(r,n)!=null)return e;{let l,a;if(W(n))if(x(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Kn(e),c=u instanceof F?u:F.EMPTY_NODE,d=Ac(r,c);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Co(r,Kn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=z(n);if(u===".priority"){x(_n(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=e.serverCache.getNode();const d=ih(r,n,c,a);d!=null?l=t.filter.updatePriority(c,d):l=o.getNode()}else{const c=J(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=ih(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=Mc(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return _i(e,l,o.isFullyInitialized()||W(n),t.filter.filtersNodes())}}function ko(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(W(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),g,null)}else{const g=z(n);if(!a.isCompleteForPath(n)&&_n(n)>1)return e;const _=J(n),w=a.getNode().getImmediateChild(g).updateChild(_,r);g===".priority"?u=c.updatePriority(a.getNode(),w):u=c.updateChild(a.getNode(),g,w,_,f_,null)}const d=o_(e,u,a.isFullyInitialized()||W(n),c.filtersNodes()),f=new Lc(i,d,s);return h_(t,d,n,i,f,l)}function uu(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const c=new Lc(i,e,s);if(W(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=_i(e,u,!0,t.filter.filtersNodes());else{const d=z(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=_i(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=J(n),g=l.getNode().getImmediateChild(d);let _;if(W(f))_=r;else{const v=c.getCompleteChild(d);v!=null?Qg(f)===".priority"&&v.getChild(qg(f)).isEmpty()?_=v:_=v.updateChild(f,r):_=F.EMPTY_NODE}if(g.equals(_))a=e;else{const v=t.filter.updateChild(l.getNode(),d,_,f,c,o);a=_i(e,v,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function sh(t,e){return t.eventCache.isCompleteForChild(e)}function IC(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const c=me(n,a);sh(e,z(c))&&(l=uu(t,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=me(n,a);sh(e,z(c))||(l=uu(t,l,c,u,i,s,o))}),l}function oh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function cu(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;W(n)?u=r:u=new te(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const g=e.serverCache.getNode().getImmediateChild(d),_=oh(t,g,f);a=ko(t,a,new q(d),_,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const g=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!g){const _=e.serverCache.getNode().getImmediateChild(d),v=oh(t,_,f);a=ko(t,a,new q(d),v,i,s,o,l)}}),a}function kC(t,e,n,r,i,s,o){if(Io(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(W(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return ko(t,e,n,a.getNode().getChild(n),i,s,l,o);if(W(n)){let u=new te(null);return a.getNode().forEachChild(Ir,(c,d)=>{u=u.set(new q(c),d)}),cu(t,e,n,u,i,s,l,o)}else return e}else{let u=new te(null);return r.foreach((c,d)=>{const f=me(n,c);a.isCompleteForPath(f)&&(u=u.set(c,a.getNode().getChild(f)))}),cu(t,e,n,u,i,s,l,o)}}function TC(t,e,n,r,i){const s=e.serverCache,o=o_(e,s.getNode(),s.isFullyInitialized()||W(n),s.isFiltered());return h_(t,o,n,r,f_,i)}function xC(t,e,n,r,i,s){let o;if(Io(r,n)!=null)return e;{const l=new Lc(r,e,i),a=e.eventCache.getNode();let u;if(W(n)||z(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Co(r,Kn(e));else{const d=e.serverCache.getNode();x(d instanceof F,"serverChildren would be complete if leaf node"),c=Ac(r,d)}c=c,u=t.filter.updateFullNode(a,c,s)}else{const c=z(n);let d=Mc(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=t.filter.updateChild(a,c,d,J(n),l,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(a,c,F.EMPTY_NODE,J(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Co(r,Kn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Io(r,G())!=null,_i(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Dc(r.getIndex()),s=Y1(r);this.processor_=wC(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(F.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(F.EMPTY_NODE,l.getNode(),null),c=new yn(a,o.isFullyInitialized(),i.filtersNodes()),d=new yn(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Jo(d,c),this.eventGenerator_=new eC(this.query_)}get query(){return this.query_}}function DC(t){return t.viewCache_.serverCache.getNode()}function RC(t){return Eo(t.viewCache_)}function PC(t,e){const n=Kn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!W(e)&&!n.getImmediateChild(z(e)).isEmpty())?n.getChild(e):null}function lh(t){return t.eventRegistrations_.length===0}function OC(t,e){t.eventRegistrations_.push(e)}function ah(t,e,n){const r=[];if(n){x(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function uh(t,e,n,r){e.type===pt.MERGE&&e.source.queryId!==null&&(x(Kn(t.viewCache_),"We should always have a full cache before handling merges"),x(Eo(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=EC(t.processor_,i,e,n,r);return SC(t.processor_,s.viewCache),x(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,p_(t,s.changes,s.viewCache.eventCache.getNode(),null)}function AC(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ce,(s,o)=>{r.push(Mr(s,o))}),n.isFullyInitialized()&&r.push(r_(n.getNode())),p_(t,r,n.getNode(),e)}function p_(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return tC(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To;class m_{constructor(){this.views=new Map}}function MC(t){x(!To,"__referenceConstructor has already been defined"),To=t}function LC(){return x(To,"Reference.ts has not been loaded"),To}function FC(t){return t.views.size===0}function Fc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return x(s!=null,"SyncTree gave us an op for an invalid query."),uh(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(uh(o,e,n,r));return s}}function g_(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Co(n,i?r:null),a=!1;l?a=!0:r instanceof F?(l=Ac(n,r),a=!1):(l=F.EMPTY_NODE,a=!1);const u=Jo(new yn(l,a,!1),new yn(r,i,!1));return new NC(e,u)}return o}function bC(t,e,n,r,i,s){const o=g_(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),OC(o,n),AC(o,n)}function jC(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=vn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(ah(u,n,r)),lh(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(ah(a,n,r)),lh(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!vn(t)&&s.push(new(LC())(e._repo,e._path)),{removed:s,events:o}}function __(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function hn(t,e){let n=null;for(const r of t.views.values())n=n||PC(r,e);return n}function y_(t,e){if(e._queryParams.loadsAllData())return el(t);{const r=e._queryIdentifier;return t.views.get(r)}}function v_(t,e){return y_(t,e)!=null}function vn(t){return el(t)!=null}function el(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo;function $C(t){x(!xo,"__referenceConstructor has already been defined"),xo=t}function UC(){return x(xo,"Reference.ts has not been loaded"),xo}let zC=1;class ch{constructor(e){this.listenProvider_=e,this.syncPointTree_=new te(null),this.pendingWriteTree_=gC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function w_(t,e,n,r,i){return sC(t.pendingWriteTree_,e,n,r,i),i?ns(t,new Qn(s_(),e,n)):[]}function Ln(t,e,n=!1){const r=oC(t.pendingWriteTree_,e);if(lC(t.pendingWriteTree_,e)){let s=new te(null);return r.snap!=null?s=s.set(G(),!0):Qe(r.children,o=>{s=s.set(new q(o),!0)}),ns(t,new So(r.path,s,n))}else return[]}function ts(t,e,n){return ns(t,new Qn(Pc(),e,n))}function BC(t,e,n){const r=te.fromObject(n);return ns(t,new Vi(Pc(),e,r))}function WC(t,e){return ns(t,new Wi(Pc(),e))}function VC(t,e,n){const r=jc(t,n);if(r){const i=$c(r),s=i.path,o=i.queryId,l=Me(s,e),a=new Wi(Oc(o),l);return Uc(t,s,a)}else return[]}function No(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||v_(o,e))){const a=jC(o,e,n,r);FC(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,g)=>vn(g));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const g=YC(f);for(let _=0;_<g.length;++_){const v=g[_],w=v.query,p=I_(t,v);t.listenProvider_.startListening(vi(w),Hi(t,w),p.hashFn,p.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(vi(e),null):u.forEach(f=>{const g=t.queryToTagMap.get(tl(f));t.listenProvider_.stopListening(vi(f),g)}))}QC(t,u)}return l}function S_(t,e,n,r){const i=jc(t,r);if(i!=null){const s=$c(i),o=s.path,l=s.queryId,a=Me(o,e),u=new Qn(Oc(l),a,n);return Uc(t,o,u)}else return[]}function HC(t,e,n,r){const i=jc(t,r);if(i){const s=$c(i),o=s.path,l=s.queryId,a=Me(o,e),u=te.fromObject(n),c=new Vi(Oc(l),a,u);return Uc(t,o,c)}else return[]}function du(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,g)=>{const _=Me(f,i);s=s||hn(g,_),o=o||vn(g)});let l=t.syncPointTree_.get(i);l?(o=o||vn(l),s=s||hn(l,G())):(l=new m_,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=F.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,_)=>{const v=hn(_,G());v&&(s=s.updateImmediateChild(g,v))}));const u=v_(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=tl(e);x(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const g=KC();t.queryToTagMap.set(f,g),t.tagToQueryMap.set(g,f)}const c=Zo(t.pendingWriteTree_,i);let d=bC(l,e,n,c,s,a);if(!u&&!o&&!r){const f=y_(l,e);d=d.concat(qC(t,e,f))}return d}function bc(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Me(o,e),u=hn(l,a);if(u)return u});return u_(i,e,s,n,!0)}function GC(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Me(u,n);r=r||hn(c,d)});let i=t.syncPointTree_.get(n);i?r=r||hn(i,G()):(i=new m_,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new yn(r,!0,!1):null,l=Zo(t.pendingWriteTree_,e._path),a=g_(i,e,l,s?o.getNode():F.EMPTY_NODE,s);return RC(a)}function ns(t,e){return E_(e,t.syncPointTree_,null,Zo(t.pendingWriteTree_,G()))}function E_(t,e,n,r){if(W(t.path))return C_(t,e,n,r);{const i=e.get(G());n==null&&i!=null&&(n=hn(i,G()));let s=[];const o=z(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=c_(r,o);s=s.concat(E_(l,a,u,c))}return i&&(s=s.concat(Fc(i,t,r,n))),s}}function C_(t,e,n,r){const i=e.get(G());n==null&&i!=null&&(n=hn(i,G()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=c_(r,o),c=t.operationForChild(o);c&&(s=s.concat(C_(c,l,a,u)))}),i&&(s=s.concat(Fc(i,t,r,n))),s}function I_(t,e){const n=e.query,r=Hi(t,n);return{hashFn:()=>(DC(e)||F.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?VC(t,n._path,r):WC(t,n._path);{const s=GE(i,n);return No(t,n,null,s)}}}}function Hi(t,e){const n=tl(e);return t.queryToTagMap.get(n)}function tl(t){return t._path.toString()+"$"+t._queryIdentifier}function jc(t,e){return t.tagToQueryMap.get(e)}function $c(t){const e=t.indexOf("$");return x(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}}function Uc(t,e,n){const r=t.syncPointTree_.get(e);x(r,"Missing sync point for query tag that we're tracking");const i=Zo(t.pendingWriteTree_,e);return Fc(r,n,i,null)}function YC(t){return t.fold((e,n,r)=>{if(n&&vn(n))return[el(n)];{let i=[];return n&&(i=__(n)),Qe(r,(s,o)=>{i=i.concat(o)}),i}})}function vi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(UC())(t._repo,t._path):t}function QC(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=tl(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function KC(){return zC++}function qC(t,e,n){const r=e._path,i=Hi(t,e),s=I_(t,n),o=t.listenProvider_.startListening(vi(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)x(!vn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,d)=>{if(!W(u)&&c&&vn(c))return[el(c).query];{let f=[];return c&&(f=f.concat(__(c).map(g=>g.query))),Qe(d,(g,_)=>{f=f.concat(_)}),f}});for(let u=0;u<a.length;++u){const c=a[u];t.listenProvider_.stopListening(vi(c),Hi(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new zc(n)}node(){return this.node_}}class Bc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=me(this.path_,e);return new Bc(this.syncTree_,n)}node(){return bc(this.syncTree_,this.path_)}}const XC=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},dh=function(t,e,n){if(!t||typeof t!="object")return t;if(x(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return JC(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ZC(t[".sv"],e);x(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},JC=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:x(!1,"Unexpected server value: "+t)}},ZC=function(t,e,n){t.hasOwnProperty("increment")||x(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&x(!1,"Unexpected increment value: "+r);const i=e.node();if(x(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},eI=function(t,e,n,r){return Wc(e,new Bc(n,t),r)},k_=function(t,e,n){return Wc(t,new zc(e),n)};function Wc(t,e,n){const r=t.getPriority().val(),i=dh(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=dh(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new ye(l,Se(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ye(i))),o.forEachChild(ce,(l,a)=>{const u=Wc(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Hc(t,e){let n=e instanceof q?e:new q(e),r=t,i=z(n);for(;i!==null;){const s=Or(r.node.children,i)||{children:{},childCount:0};r=new Vc(i,r,s),n=J(n),i=z(n)}return r}function Wr(t){return t.node.value}function T_(t,e){t.node.value=e,fu(t)}function x_(t){return t.node.childCount>0}function tI(t){return Wr(t)===void 0&&!x_(t)}function nl(t,e){Qe(t.node.children,(n,r)=>{e(new Vc(n,t,r))})}function N_(t,e,n,r){n&&!r&&e(t),nl(t,i=>{N_(i,e,!0,r)}),n&&r&&e(t)}function nI(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function rs(t){return new q(t.parent===null?t.name:rs(t.parent)+"/"+t.name)}function fu(t){t.parent!==null&&rI(t.parent,t.name,t)}function rI(t,e,n){const r=tI(n),i=Ht(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,fu(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,fu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=/[\[\].#$\/\u0000-\u001F\u007F]/,sI=/[\[\].#$\u0000-\u001F\u007F]/,ql=10*1024*1024,D_=function(t){return typeof t=="string"&&t.length!==0&&!iI.test(t)},R_=function(t){return typeof t=="string"&&t.length!==0&&!sI.test(t)},oI=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),R_(t)},lI=function(t,e,n,r){r&&e===void 0||Gc(hc(t,"value"),e,n)},Gc=function(t,e,n){const r=n instanceof q?new k1(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Nn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Nn(r)+" with contents = "+e.toString());if(xg(e))throw new Error(t+"contains "+e.toString()+" "+Nn(r));if(typeof e=="string"&&e.length>ql/3&&Qo(e)>ql)throw new Error(t+"contains a string greater than "+ql+" utf8 bytes "+Nn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Qe(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!D_(o)))throw new Error(t+" contains an invalid key ("+o+") "+Nn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);T1(r,o),Gc(t,l,r),x1(r)}),i&&s)throw new Error(t+' contains ".value" child '+Nn(r)+" in addition to actual children.")}},P_=function(t,e,n,r){if(!(r&&n===void 0)&&!R_(n))throw new Error(hc(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},aI=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),P_(t,e,n,r)},O_=function(t,e){if(z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},uI=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!D_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!oI(n))throw new Error(hc(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yc(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Tc(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function A_(t,e,n){Yc(t,n),M_(t,r=>Tc(r,e))}function Nt(t,e,n){Yc(t,n),M_(t,r=>ht(r,e)||ht(e,r))}function M_(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(dI(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function dI(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();jn&&Pe("event: "+n.toString()),Br(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="repo_interrupt",hI=25;class pI{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=wo(),this.transactionQueueTree_=new Vc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mI(t,e,n){if(t.stats_=Ic(t.repoInfo_),t.forceRestClient_||qE())t.server_=new vo(t.repoInfo_,(r,i,s,o)=>{fh(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>hh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ft(t.repoInfo_,e,(r,i,s,o)=>{fh(t,r,i,s,o)},r=>{hh(t,r)},r=>{_I(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=t1(t.repoInfo_,()=>new Z1(t.stats_,t.server_)),t.infoData_=new Q1,t.infoSyncTree_=new ch({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=ts(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Kc(t,"connected",!1),t.serverSyncTree_=new ch({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Nt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function gI(t){const n=t.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Qc(t){return XC({timestamp:gI(t)})}function fh(t,e,n,r,i){t.dataUpdateCount++;const s=new q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=co(n,u=>Se(u));o=HC(t.serverSyncTree_,s,a,i)}else{const a=Se(n);o=S_(t.serverSyncTree_,s,a,i)}else if(r){const a=co(n,u=>Se(u));o=BC(t.serverSyncTree_,s,a)}else{const a=Se(n);o=ts(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=il(t,s)),Nt(t.eventQueue_,l,o)}function hh(t,e){Kc(t,"connected",e),e===!1&&wI(t)}function _I(t,e){Qe(e,(n,r)=>{Kc(t,n,r)})}function Kc(t,e,n){const r=new q("/.info/"+e),i=Se(n);t.infoData_.updateSnapshot(r,i);const s=ts(t.infoSyncTree_,r,i);Nt(t.eventQueue_,r,s)}function L_(t){return t.nextWriteId_++}function yI(t,e,n){const r=GC(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Se(i).withIndex(e._queryParams.getIndex());du(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=ts(t.serverSyncTree_,e._path,s);else{const l=Hi(t.serverSyncTree_,e);o=S_(t.serverSyncTree_,e._path,s,l)}return Nt(t.eventQueue_,e._path,o),No(t.serverSyncTree_,e,n,null,!0),s},i=>(rl(t,"get for query "+pe(e)+" failed: "+i),Promise.reject(new Error(i))))}function vI(t,e,n,r,i){rl(t,"set",{path:e.toString(),value:n,priority:r});const s=Qc(t),o=Se(n,r),l=bc(t.serverSyncTree_,e),a=k_(o,l,s),u=L_(t),c=w_(t.serverSyncTree_,e,a,u,!0);Yc(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,g)=>{const _=f==="ok";_||Ye("set at "+e+" failed: "+f);const v=Ln(t.serverSyncTree_,u,!_);Nt(t.eventQueue_,e,v),CI(t,i,f,g)});const d=U_(t,e);il(t,d),Nt(t.eventQueue_,d,[])}function wI(t){rl(t,"onDisconnectEvents");const e=Qc(t),n=wo();ou(t.onDisconnect_,G(),(i,s)=>{const o=eI(i,s,t.serverSyncTree_,e);i_(n,i,o)});let r=[];ou(n,G(),(i,s)=>{r=r.concat(ts(t.serverSyncTree_,i,s));const o=U_(t,i);il(t,o)}),t.onDisconnect_=wo(),Nt(t.eventQueue_,G(),r)}function SI(t,e,n){let r;z(e._path)===".info"?r=du(t.infoSyncTree_,e,n):r=du(t.serverSyncTree_,e,n),A_(t.eventQueue_,e._path,r)}function ph(t,e,n){let r;z(e._path)===".info"?r=No(t.infoSyncTree_,e,n):r=No(t.serverSyncTree_,e,n),A_(t.eventQueue_,e._path,r)}function EI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(fI)}function rl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pe(n,...e)}function CI(t,e,n,r){e&&Br(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function F_(t,e,n){return bc(t.serverSyncTree_,e,n)||F.EMPTY_NODE}function qc(t,e=t.transactionQueueTree_){if(e||sl(t,e),Wr(e)){const n=j_(t,e);x(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&II(t,rs(e),n)}else x_(e)&&nl(e,n=>{qc(t,n)})}function II(t,e,n){const r=n.map(u=>u.currentWriteId),i=F_(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];x(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Me(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{rl(t,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Ln(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();sl(t,Hc(t.transactionQueueTree_,e)),qc(t,t.transactionQueueTree_),Nt(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Br(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ye("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}il(t,e)}},o)}function il(t,e){const n=b_(t,e),r=rs(n),i=j_(t,n);return kI(t,i,r),r}function kI(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Me(n,a.path);let c=!1,d;if(x(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(Ln(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=hI)c=!0,d="maxretry",i=i.concat(Ln(t.serverSyncTree_,a.currentWriteId,!0));else{const f=F_(t,a.path,o);a.currentInputSnapshot=f;const g=e[l].update(f.val());if(g!==void 0){Gc("transaction failed: Data returned ",g,a.path);let _=Se(g);typeof g=="object"&&g!=null&&Ht(g,".priority")||(_=_.updatePriority(f.getPriority()));const w=a.currentWriteId,p=Qc(t),h=k_(_,f,p);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=h,a.currentWriteId=L_(t),o.splice(o.indexOf(w),1),i=i.concat(w_(t.serverSyncTree_,a.path,h,a.currentWriteId,a.applyLocally)),i=i.concat(Ln(t.serverSyncTree_,w,!0))}else c=!0,d="nodata",i=i.concat(Ln(t.serverSyncTree_,a.currentWriteId,!0))}Nt(t.eventQueue_,n,i),i=[],c&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}sl(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Br(r[l]);qc(t,t.transactionQueueTree_)}function b_(t,e){let n,r=t.transactionQueueTree_;for(n=z(e);n!==null&&Wr(r)===void 0;)r=Hc(r,n),e=J(e),n=z(e);return r}function j_(t,e){const n=[];return $_(t,e,n),n.sort((r,i)=>r.order-i.order),n}function $_(t,e,n){const r=Wr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);nl(e,i=>{$_(t,i,n)})}function sl(t,e){const n=Wr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,T_(e,n.length>0?n:void 0)}nl(e,r=>{sl(t,r)})}function U_(t,e){const n=rs(b_(t,e)),r=Hc(t.transactionQueueTree_,e);return nI(r,i=>{Xl(t,i)}),Xl(t,r),N_(r,i=>{Xl(t,i)}),n}function Xl(t,e){const n=Wr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(x(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(x(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ln(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?T_(e,void 0):n.length=s+1,Nt(t.eventQueue_,rs(e),i);for(let o=0;o<r.length;o++)Br(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function xI(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ye(`Invalid query segment '${n}' in query '${t}'`)}return e}const mh=function(t,e){const n=NI(t),r=n.namespace;n.domain==="firebase.com"&&Wt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Wt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||zE();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $g(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new q(n.pathString)}},NI=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=TI(t.substring(c,d)));const f=xI(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+pe(this.snapshot.exportVal())}}class B_{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return x(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:Qg(this._path)}get ref(){return new Dt(this._repo,this._path)}get _queryIdentifier(){const e=Zf(this._queryParams),n=Ec(e);return n==="{}"?"default":n}get _queryObject(){return Zf(this._queryParams)}isEqual(e){if(e=Cn(e),!(e instanceof Xc))return!1;const n=this._repo===e._repo,r=Tc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+I1(this._path)}}class Dt extends Xc{constructor(e,n){super(e,n,new Rc,!1)}get parent(){const e=qg(this._path);return e===null?null:new Dt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fr{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new q(e),r=Do(this.ref,e);return new Fr(this._node.getChild(n),r,ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Fr(i,Do(this.ref,r),ce)))}hasChild(e){const n=new q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function nr(t,e){return t=Cn(t),t._checkNotDeleted("ref"),e!==void 0?Do(t._root,e):t._root}function Do(t,e){return t=Cn(t),z(t._path)===null?aI("child","path",e,!1):P_("child","path",e,!1),new Dt(t._repo,me(t._path,e))}function DI(t){return O_("remove",t._path),bs(t,null)}function bs(t,e){t=Cn(t),O_("set",t._path),lI("set",e,t._path,!1);const n=new Go;return vI(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Jl(t){t=Cn(t);const e=new W_(()=>{}),n=new ol(e);return yI(t._repo,t,n).then(r=>new Fr(r,new Dt(t._repo,t._path),t._queryParams.getIndex()))}class ol{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new z_("value",this,new Fr(e.snapshotNode,new Dt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new B_(this,e,n):null}matches(e){return e instanceof ol?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Jc{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new B_(this,e,n):null}createEvent(e,n){x(e.childName!=null,"Child events should have a childName.");const r=Do(new Dt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new z_(e.type,this,new Fr(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Jc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function RI(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(c,d)=>{ph(t._repo,t,l),a(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new W_(n,s||void 0),l=e==="value"?new ol(o):new Jc(e,o);return SI(t._repo,t,l),()=>ph(t._repo,t,l)}function PI(t,e,n,r){return RI(t,"value",e,n,r)}MC(Dt);$C(Dt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="FIREBASE_DATABASE_EMULATOR_HOST",hu={};let AI=!1;function MI(t,e,n,r){t.repoInfo_=new $g(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function LI(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Wt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=mh(s,i),l=o.repoInfo,a,u;typeof process<"u"&&process.env&&(u=process.env[OI]),u?(a=!0,s=`http://${u}?ns=${l.namespace}`,o=mh(s,i),l=o.repoInfo):a=!o.repoInfo.secure;const c=i&&a?new Cr(Cr.OWNER):new JE(t.name,t.options,e);uI("Invalid Firebase Database URL",o),W(o.path)||Wt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=bI(l,t,c,new XE(t.name,n));return new jI(d,t)}function FI(t,e){const n=hu[e];(!n||n[t.key]!==t)&&Wt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),EI(t),delete n[t.key]}function bI(t,e,n,r){let i=hu[e.name];i||(i={},hu[e.name]=i);let s=i[t.toURLString()];return s&&Wt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new pI(t,AI,n,r),i[t.toURLString()]=s,s}class jI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dt(this._repo,G())),this._rootInternal}_delete(){return this._rootInternal!==null&&(FI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Wt("Cannot call "+e+" on a deleted database.")}}function $I(t=Xm(),e){const n=Xi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=M0("database");r&&UI(n,...r)}return n}function UI(t,e,n,r={}){t=Cn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Wt("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Wt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Cr(Cr.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:L0(r.mockUserToken,t.app.options.projectId);s=new Cr(o)}MI(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){FE(Qw),gn(new Bt("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return LI(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),xt(Ff,bf,t),xt(Ff,bf,"esm2017")}Ft.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ft.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};zI();const pu={apiKey:"AIzaSyAGxVXjtreRcuDOpVI-M10ojvcU1FuN_ZQ",authDomain:"cat-herder-5df76.firebaseapp.com",databaseURL:{}.VITE_databaseURL,projectId:"cat-herder-5df76",storageBucket:"cat-herder-5df76.appspot.com",messagingSenderId:"57520779361",appId:"1:57520779361:web:7c62535a2d0e9508f57a20",measurementId:"G-FEJL7WJLCN"},rd=class{constructor(){In(this,"app",qm(pu));In(this,"analytics",RE(this.app));In(this,"database",$I(this.app))}static get instance(){return this._instance??(this._instance=new rd)}async listEmails(e){const n=nr(this.database,`email/${e}`),i=await(await Jl(n)).val();return Object.values(i??[])}async listGroupEvents(e){const n=nr(this.database,`db/${e}`),i=await(await Jl(n)).val();return Object.keys(i)}async updateOptions(e,n){const r=nr(this.database,`db/${e.group}/${e.eventID}/options`);await bs(r,n)}async removeUser(e,n){const r=nr(this.database,`db/${e.group}/${e.eventID}/user/${n.uid}`);await DI(r)}async updateUser(e,n){const r=nr(this.database,`db/${e.group}/${e.eventID}/user/${n.uid}`);await bs(r,n)}async connect(e,n,r){const i=nr(this.database,`db/${e.group}/${e.eventID}`);return(await Jl(i)).exists()||await bs(i,n),PI(i,l=>{const a=l.val(),u={...n,...a};u.options.forEach(c=>{c.highlight=!!c.highlight}),Object.values(u.user).forEach(c=>{c.attending=c.attending??[],c.maybe=c.maybe??[]}),r(u)})}};let It=rd;In(It,"_instance");function V_(t){const{date:e}=t;return{time:e.toLocaleString("en-US",{hour:"numeric",hour12:!0}),dayOfWeek:e.toLocaleDateString("en-US",{weekday:"long"}),dayOfWeekAbbr:e.toLocaleDateString("en-US",{weekday:"short"}),month:e.toLocaleString("default",{month:"long"}),day:e.getDate().toString(),yyyy:e.getFullYear().toString(),mm:(e.getMonth()+1).toString().padStart(2,"0"),dd:e.getDate().toString().padStart(2,"0")}}const id=class{constructor(e,n){this.date=e,this.timeZone=n}static get Local(){return Intl.DateTimeFormat().resolvedOptions().timeZone}static from(e,n,r,i,s,o){const l=new Date(Date.UTC(n,r-1,i,s,o)),a=new Date(l.toLocaleString("en-US",{timeZone:"UTC"})),u=new Date(l.toLocaleString("en-US",{timeZone:e})),c=a.getTime()-u.getTime(),d=new Date(l.getTime()+c);return new id(d,e)}};let bt=id;In(bt,"Default","America/New_York");class mt{constructor(e,n,r){this.date=e,this.dateStr=n,this.timeZone=r}get dateIso(){return this.date.toISOString()}get localPretty(){return this.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}get localData(){return{year:Number(this.dateStr.slice(0,4)),month:Number(this.dateStr.slice(4,6)),day:Number(this.dateStr.slice(6,8))}}isMonday(){return this.date.toLocaleDateString("en-US",{weekday:"long"})==="Monday"}getPreviousMonday(){const e=new Date(this.date);return e.setDate(this.date.getDate()-(this.date.getDay()+6)%7),mt.fromDate(e,this.timeZone)}getDateAtHour(e){const n=bt.from(this.timeZone,this.localData.year,this.localData.month,this.localData.day,e.hours,e.minutes).date;return mt.fromDate(n,this.timeZone)}equals(e){return this.date.getTime()===e.date.getTime()&&this.dateIso===e.dateIso&&this.dateStr===e.dateStr}static now(e){return this.fromDate(new Date,e)}static fromDate(e,n){const r=[e.getFullYear().toString(),(e.getMonth()+1).toString().padStart(2,"0"),e.getDate().toString().padStart(2,"0")].join("");return new mt(e,r,n)}static fromIso(e,n){return this.fromDate(new Date(e),n)}static fromStr(e,n){const r=Number(e.slice(0,4)),i=Number(e.slice(4,6)),s=Number(e.slice(6,8)),o=bt.from(n,r,i,s,12,0).date;return o.setFullYear(r,i-1,s),new mt(o,e,n)}static fromEventID(e,n){return this.fromStr(e,n)}}var $e=(t=>(t.No="n",t.Yes="y",t.Maybe="m",t.Undefined="?",t))($e||{});const Zl=["n","y","m"];function H_(t,e){return e.attending.includes(t.isoStart)?$e.Yes:e.maybe.includes(t.isoStart)?$e.Maybe:$e.No}function G_(t,e,n){const r={...e};return r.attending=r.attending.filter(i=>i!==t.isoStart),r.maybe=r.maybe.filter(i=>i!==t.isoStart),n===$e.Yes&&r.attending.push(t.isoStart),n===$e.Maybe&&r.maybe.push(t.isoStart),r}function BI(t){const e=[];for(let n=0;n<t;n++)e.push(n);return e}function mu(t){return JSON.parse(JSON.stringify(t))}function js(){return{created:0,uid:"0",label:"",attending:[],maybe:[]}}function WI(t){const e=mt.fromStr(t.eventID,bt.Default);if(t.group==="edh"){const n=e.getPreviousMonday(),r=BI(7).map(l=>{const a=new Date(n.date);return a.setDate(a.getDate()+l),{isoStart:mt.fromDate(a,e.timeZone).getDateAtHour({hours:18,minutes:0}).dateIso,durationHours:4,highlight:!1}}),{day:i,month:s,yyyy:o}=V_(n);return{name:"Elder Dragon Highlander",description:`Week of ${s} ${i}, ${o}`,options:r,user:{}}}throw new Error("unsupported group")}class VI{constructor(e){this.init=e}getEmails(){return It.instance.listEmails(this.init.group)}connect(e){return It.instance.connect(this.init,this.defaultEvent,e)}removeUser(e){return It.instance.removeUser(this.init,e)}updateUser(e){return It.instance.updateUser(this.init,e)}createUser(e){const n=Date.now(),r={...e,created:n,uid:`user-${n}`};return this.updateUser(r)}updateOptions(e){return It.instance.updateOptions(this.init,e)}get defaultEvent(){return WI(this.init)}}function Y_(){return(Y_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Zc(t){var e={exports:{}};return t(e,e.exports),e.exports}var Dn=Zc(function(t,e){t.exports=function(){var n="millisecond",r="second",i="minute",s="hour",o="day",l="week",a="month",u="quarter",c="year",d="date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(D,C,N){var L=String(D);return!L||L.length>=C?D:""+Array(C+1-L.length).join(N)+D},w={s:v,z:function(D){var C=-D.utcOffset(),N=Math.abs(C),L=Math.floor(N/60),O=N%60;return(C<=0?"+":"-")+v(L,2,"0")+":"+v(O,2,"0")},m:function D(C,N){if(C.date()<N.date())return-D(N,C);var L=12*(N.year()-C.year())+(N.month()-C.month()),O=C.clone().add(L,a),U=N-O<0,j=C.clone().add(L+(U?-1:1),a);return+(-(L+(N-O)/(U?O-j:j-O))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:a,y:c,w:l,d:o,D:d,h:s,m:i,s:r,ms:n,Q:u}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},p="en",h={};h[p]=_;var m=function(D){return D instanceof P},S=function(D,C,N){var L;if(!D)return p;if(typeof D=="string")h[D]&&(L=D),C&&(h[D]=C,L=D);else{var O=D.name;h[O]=D,L=O}return!N&&L&&(p=L),L||!N&&p},T=function(D,C){if(m(D))return D.clone();var N=typeof C=="object"?C:{};return N.date=D,N.args=arguments,new P(N)},I=w;I.l=S,I.i=m,I.w=function(D,C){return T(D,{locale:C.$L,utc:C.$u,x:C.$x,$offset:C.$offset})};var P=function(){function D(N){this.$L=S(N.locale,null,!0),this.parse(N)}var C=D.prototype;return C.parse=function(N){this.$d=function(L){var O=L.date,U=L.utc;if(O===null)return new Date(NaN);if(I.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var j=O.match(f);if(j){var Q=j[2]-1||0,re=(j[7]||"0").substring(0,3);return U?new Date(Date.UTC(j[1],Q,j[3]||1,j[4]||0,j[5]||0,j[6]||0,re)):new Date(j[1],Q,j[3]||1,j[4]||0,j[5]||0,j[6]||0,re)}}return new Date(O)}(N),this.$x=N.x||{},this.init()},C.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},C.$utils=function(){return I},C.isValid=function(){return this.$d.toString()!=="Invalid Date"},C.isSame=function(N,L){var O=T(N);return this.startOf(L)<=O&&O<=this.endOf(L)},C.isAfter=function(N,L){return T(N)<this.startOf(L)},C.isBefore=function(N,L){return this.endOf(L)<T(N)},C.$g=function(N,L,O){return I.u(N)?this[L]:this.set(O,N)},C.unix=function(){return Math.floor(this.valueOf()/1e3)},C.valueOf=function(){return this.$d.getTime()},C.startOf=function(N,L){var O=this,U=!!I.u(L)||L,j=I.p(N),Q=function(je,_e){var xe=I.w(O.$u?Date.UTC(O.$y,_e,je):new Date(O.$y,_e,je),O);return U?xe:xe.endOf(o)},re=function(je,_e){return I.w(O.toDate()[je].apply(O.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(_e)),O)},k=this.$W,A=this.$M,b=this.$D,Y="set"+(this.$u?"UTC":"");switch(j){case c:return U?Q(1,0):Q(31,11);case a:return U?Q(1,A):Q(0,A+1);case l:var ie=this.$locale().weekStart||0,wt=(k<ie?k+7:k)-ie;return Q(U?b-wt:b+(6-wt),A);case o:case d:return re(Y+"Hours",0);case s:return re(Y+"Minutes",1);case i:return re(Y+"Seconds",2);case r:return re(Y+"Milliseconds",3);default:return this.clone()}},C.endOf=function(N){return this.startOf(N,!1)},C.$set=function(N,L){var O,U=I.p(N),j="set"+(this.$u?"UTC":""),Q=(O={},O[o]=j+"Date",O[d]=j+"Date",O[a]=j+"Month",O[c]=j+"FullYear",O[s]=j+"Hours",O[i]=j+"Minutes",O[r]=j+"Seconds",O[n]=j+"Milliseconds",O)[U],re=U===o?this.$D+(L-this.$W):L;if(U===a||U===c){var k=this.clone().set(d,1);k.$d[Q](re),k.init(),this.$d=k.set(d,Math.min(this.$D,k.daysInMonth())).$d}else Q&&this.$d[Q](re);return this.init(),this},C.set=function(N,L){return this.clone().$set(N,L)},C.get=function(N){return this[I.p(N)]()},C.add=function(N,L){var O,U=this;N=Number(N);var j=I.p(L),Q=function(A){var b=T(U);return I.w(b.date(b.date()+Math.round(A*N)),U)};if(j===a)return this.set(a,this.$M+N);if(j===c)return this.set(c,this.$y+N);if(j===o)return Q(1);if(j===l)return Q(7);var re=(O={},O[i]=6e4,O[s]=36e5,O[r]=1e3,O)[j]||1,k=this.$d.getTime()+N*re;return I.w(k,this)},C.subtract=function(N,L){return this.add(-1*N,L)},C.format=function(N){var L=this;if(!this.isValid())return"Invalid Date";var O=N||"YYYY-MM-DDTHH:mm:ssZ",U=I.z(this),j=this.$locale(),Q=this.$H,re=this.$m,k=this.$M,A=j.weekdays,b=j.months,Y=function(_e,xe,Gt,ss){return _e&&(_e[xe]||_e(L,O))||Gt[xe].substr(0,ss)},ie=function(_e){return I.s(Q%12||12,_e,"0")},wt=j.meridiem||function(_e,xe,Gt){var ss=_e<12?"AM":"PM";return Gt?ss.toLowerCase():ss},je={YY:String(this.$y).slice(-2),YYYY:this.$y,M:k+1,MM:I.s(k+1,2,"0"),MMM:Y(j.monthsShort,k,b,3),MMMM:Y(b,k),D:this.$D,DD:I.s(this.$D,2,"0"),d:String(this.$W),dd:Y(j.weekdaysMin,this.$W,A,2),ddd:Y(j.weekdaysShort,this.$W,A,3),dddd:A[this.$W],H:String(Q),HH:I.s(Q,2,"0"),h:ie(1),hh:ie(2),a:wt(Q,re,!0),A:wt(Q,re,!1),m:String(re),mm:I.s(re,2,"0"),s:String(this.$s),ss:I.s(this.$s,2,"0"),SSS:I.s(this.$ms,3,"0"),Z:U};return O.replace(g,function(_e,xe){return xe||je[_e]||U.replace(":","")})},C.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},C.diff=function(N,L,O){var U,j=I.p(L),Q=T(N),re=6e4*(Q.utcOffset()-this.utcOffset()),k=this-Q,A=I.m(this,Q);return A=(U={},U[c]=A/12,U[a]=A,U[u]=A/3,U[l]=(k-re)/6048e5,U[o]=(k-re)/864e5,U[s]=k/36e5,U[i]=k/6e4,U[r]=k/1e3,U)[j]||k,O?A:I.a(A)},C.daysInMonth=function(){return this.endOf(a).$D},C.$locale=function(){return h[this.$L]},C.locale=function(N,L){if(!N)return this.$L;var O=this.clone(),U=S(N,L,!0);return U&&(O.$L=U),O},C.clone=function(){return I.w(this.$d,this)},C.toDate=function(){return new Date(this.valueOf())},C.toJSON=function(){return this.isValid()?this.toISOString():null},C.toISOString=function(){return this.$d.toISOString()},C.toString=function(){return this.$d.toUTCString()},D}(),M=P.prototype;return T.prototype=M,[["$ms",n],["$s",r],["$m",i],["$H",s],["$W",o],["$M",a],["$y",c],["$D",d]].forEach(function(D){M[D[1]]=function(C){return this.$g(C,D[0],D[1])}}),T.extend=function(D,C){return D.$i||(D(C,P,T),D.$i=!0),T},T.locale=S,T.isDayjs=m,T.unix=function(D){return T(1e3*D)},T.en=h[p],T.Ls=h,T.p={},T}()}),HI=Zc(function(t,e){t.exports=function(n,r,i){var s=r.prototype;i.utc=function(f){return new r({date:f,utc:!0,args:arguments})},s.utc=function(f){var g=i(this.toDate(),{locale:this.$L,utc:!0});return f?g.add(this.utcOffset(),"minute"):g},s.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var o=s.parse;s.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),o.call(this,f)};var l=s.init;s.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else l.call(this)};var a=s.utcOffset;s.utcOffset=function(f,g){var _=this.$utils().u;if(_(f))return this.$u?0:_(this.$offset)?a.call(this):this.$offset;var v=Math.abs(f)<=16?60*f:f,w=this;if(g)return w.$offset=v,w.$u=f===0,w;if(f!==0){var p=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(w=this.local().add(v+p,"minute")).$offset=v,w.$x.$localOffset=p}else w=this.utc();return w};var u=s.format;s.format=function(f){return u.call(this,f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},s.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*f},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var c=s.toDate;s.toDate=function(f){return f==="s"&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var d=s.diff;s.diff=function(f,g,_){if(f&&this.$u===f.$u)return d.call(this,f,g,_);var v=this.local(),w=i(f).local();return d.call(v,w,g,_)}}}),gh=new RegExp("%[a-f0-9]{2}","gi"),_h=new RegExp("(%[a-f0-9]{2})+","gi");function gu(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;var n=t.slice(0,e=e||1),r=t.slice(e);return Array.prototype.concat.call([],gu(n),gu(r))}function GI(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(gh),n=1;n<e.length;n++)e=(t=gu(e,n).join("")).match(gh);return t}}var YI=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return function(n){for(var r={"%FE%FF":"","%FF%FE":""},i=_h.exec(n);i;){try{r[i[0]]=decodeURIComponent(i[0])}catch{var s=GI(i[0]);s!==i[0]&&(r[i[0]]=s)}i=_h.exec(n)}r["%C2"]="";for(var o=Object.keys(r),l=0;l<o.length;l++){var a=o[l];n=n.replace(new RegExp(a,"g"),r[a])}return n}(t)}},yh=(t,e)=>{if(typeof t!="string"||typeof e!="string")throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]},QI=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),s=0;s<r.length;s++){var o=r[s],l=t[o];(i?e.indexOf(o)!==-1:e(o,l,t))&&(n[o]=l)}return n},KI=Zc(function(t,e){function n(c){if(typeof c!="string"||c.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function r(c,d){return d.encode?d.strict?encodeURIComponent(c).replace(/[!'()*]/g,f=>`%${f.charCodeAt(0).toString(16).toUpperCase()}`):encodeURIComponent(c):c}function i(c,d){return d.decode?YI(c):c}function s(c){return Array.isArray(c)?c.sort():typeof c=="object"?s(Object.keys(c)).sort((d,f)=>Number(d)-Number(f)).map(d=>c[d]):c}function o(c){const d=c.indexOf("#");return d!==-1&&(c=c.slice(0,d)),c}function l(c){const d=(c=o(c)).indexOf("?");return d===-1?"":c.slice(d+1)}function a(c,d){return d.parseNumbers&&!Number.isNaN(Number(c))&&typeof c=="string"&&c.trim()!==""?c=Number(c):!d.parseBooleans||c===null||c.toLowerCase()!=="true"&&c.toLowerCase()!=="false"||(c=c.toLowerCase()==="true"),c}function u(c,d){n((d=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},d)).arrayFormatSeparator);const f=function(_){let v;switch(_.arrayFormat){case"index":return(w,p,h)=>{v=/\[(\d*)\]$/.exec(w),w=w.replace(/\[\d*\]$/,""),v?(h[w]===void 0&&(h[w]={}),h[w][v[1]]=p):h[w]=p};case"bracket":return(w,p,h)=>{v=/(\[\])$/.exec(w),h[w=w.replace(/\[\]$/,"")]=v?h[w]!==void 0?[].concat(h[w],p):[p]:p};case"comma":case"separator":return(w,p,h)=>{const m=typeof p=="string"&&p.includes(_.arrayFormatSeparator),S=typeof p=="string"&&!m&&i(p,_).includes(_.arrayFormatSeparator);p=S?i(p,_):p;const T=m||S?p.split(_.arrayFormatSeparator).map(I=>i(I,_)):p===null?p:i(p,_);h[w]=T};default:return(w,p,h)=>{h[w]=h[w]!==void 0?[].concat(h[w],p):p}}}(d),g=Object.create(null);if(typeof c!="string"||!(c=c.trim().replace(/^[?#&]/,"")))return g;for(const _ of c.split("&")){if(_==="")continue;let[v,w]=yh(d.decode?_.replace(/\+/g," "):_,"=");w=w===void 0?null:["comma","separator"].includes(d.arrayFormat)?w:i(w,d),f(i(v,d),w,g)}for(const _ of Object.keys(g)){const v=g[_];if(typeof v=="object"&&v!==null)for(const w of Object.keys(v))v[w]=a(v[w],d);else g[_]=a(v,d)}return d.sort===!1?g:(d.sort===!0?Object.keys(g).sort():Object.keys(g).sort(d.sort)).reduce((_,v)=>{const w=g[v];return _[v]=w&&typeof w=="object"&&!Array.isArray(w)?s(w):w,_},Object.create(null))}e.extract=l,e.parse=u,e.stringify=(c,d)=>{if(!c)return"";n((d=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},d)).arrayFormatSeparator);const f=w=>d.skipNull&&c[w]==null||d.skipEmptyString&&c[w]==="",g=function(w){switch(w.arrayFormat){case"index":return p=>(h,m)=>{const S=h.length;return m===void 0||w.skipNull&&m===null||w.skipEmptyString&&m===""?h:m===null?[...h,[r(p,w),"[",S,"]"].join("")]:[...h,[r(p,w),"[",r(S,w),"]=",r(m,w)].join("")]};case"bracket":return p=>(h,m)=>m===void 0||w.skipNull&&m===null||w.skipEmptyString&&m===""?h:m===null?[...h,[r(p,w),"[]"].join("")]:[...h,[r(p,w),"[]=",r(m,w)].join("")];case"comma":case"separator":return p=>(h,m)=>m==null||m.length===0?h:h.length===0?[[r(p,w),"=",r(m,w)].join("")]:[[h,r(m,w)].join(w.arrayFormatSeparator)];default:return p=>(h,m)=>m===void 0||w.skipNull&&m===null||w.skipEmptyString&&m===""?h:m===null?[...h,r(p,w)]:[...h,[r(p,w),"=",r(m,w)].join("")]}}(d),_={};for(const w of Object.keys(c))f(w)||(_[w]=c[w]);const v=Object.keys(_);return d.sort!==!1&&v.sort(d.sort),v.map(w=>{const p=c[w];return p===void 0?"":p===null?r(w,d):Array.isArray(p)?p.reduce(g(w),[]).join("&"):r(w,d)+"="+r(p,d)}).filter(w=>w.length>0).join("&")},e.parseUrl=(c,d)=>{d=Object.assign({decode:!0},d);const[f,g]=yh(c,"#");return Object.assign({url:f.split("?")[0]||"",query:u(l(c),d)},d&&d.parseFragmentIdentifier&&g?{fragmentIdentifier:i(g,d)}:{})},e.stringifyUrl=(c,d)=>{d=Object.assign({encode:!0,strict:!0},d);const f=o(c.url).split("?")[0]||"",g=e.extract(c.url),_=e.parse(g,{sort:!1}),v=Object.assign(_,c.query);let w=e.stringify(v,d);w&&(w=`?${w}`);let p=function(h){let m="";const S=h.indexOf("#");return S!==-1&&(m=h.slice(S)),m}(c.url);return c.fragmentIdentifier&&(p=`#${r(c.fragmentIdentifier,d)}`),`${f}${w}${p}`},e.pick=(c,d,f)=>{f=Object.assign({parseFragmentIdentifier:!0},f);const{url:g,query:_,fragmentIdentifier:v}=e.parseUrl(c,f);return e.stringifyUrl({url:g,query:QI(_,d),fragmentIdentifier:v},f)},e.exclude=(c,d,f)=>{const g=Array.isArray(d)?_=>!d.includes(_):(_,v)=>!d(_,v);return e.pick(c,g,f)}});const qI={dateTimeLocal:"YYYY-MM-DD[T]HH:mm:ss",dateTimeUTC:"YYYYMMDD[T]HHmmss[Z]",allDay:"YYYYMMDD"};function XI({startTime:t,endTime:e},n){const r=qI[n];return{start:t.format(r),end:e.format(r)}}Dn.extend(HI);const JI=(t,e=!0)=>{const{start:n,end:r,duration:i}=t,s=function(a,u){if(a==null)return{};var c,d,f={},g=Object.keys(a);for(d=0;d<g.length;d++)u.indexOf(c=g[d])>=0||(f[c]=a[c]);return f}(t,["start","end","duration"]),o=e?Dn(n).utc():Dn(n),l=r?e?Dn(r).utc():Dn(r):(()=>{if(t.allDay)return o.add(1,"day");if(i&&i.length==2){const a=Number(i[0]);return o.add(a,i[1])}return e?Dn().utc():Dn()})();return Y_({},s,{startTime:o,endTime:l})},ZI=t=>{const e=JI(t),{start:n,end:r}=XI(e,e.allDay?"allDay":"dateTimeUTC"),i={action:"TEMPLATE",text:e.title,details:e.description,location:e.location,trp:e.busy,dates:n+"/"+r,recur:e.rRule?"RRULE:"+e.rRule:void 0};return e.guests&&e.guests.length&&(i.add=e.guests.join()),`https://calendar.google.com/calendar/render?${KI.stringify(i)}`};function ek(t){return ZI({title:t.schedule.name,description:t.schedule.description,start:t.option.isoStart,duration:[t.option.durationHours,"hour"],guests:t.guests})}class tk{constructor(e,n){this.storage=e,this.key=n}get(){const e=this.storage.getItem(this.key);return e?JSON.parse(e).value:null}set(e){const n={updated:new Date().toISOString(),value:e},r=JSON.stringify(n);return this.storage.setItem(this.key,r)}}function nk(t){const e=new URL(t.toLocaleLowerCase()),n=e.hash.startsWith("#/")&&e.hash.slice(2);if(n){const[l,a]=n.split("/");return{group:l||void 0,eventID:a||void 0}}const r=e.pathname.startsWith("/")&&e.pathname.slice(1);if(r){const[l,a]=r.split("/");return{group:l||void 0,eventID:a||void 0}}const i=e.searchParams,s=i.get("id");if(s&&s.split("-").length===2){const[l,a]=s.split("-");return{group:l,eventID:a}}const o=i.get("group");if(o){const l=i.get("event");return l?{group:o,eventID:l}:{group:o}}return{}}function is(t){return rk(t)}function rk(t){return"/"+(t.group?[t.group,t.eventID]:[]).filter(n=>n!==void 0).join("/")}const Q_=$.createContext({reportError:console.log}),K_=$.createContext({reportError:console.log,errors:[],remove:console.log});function ed(){return $.useContext(Q_)}function ik(){return $.useContext(K_)}const sk="_ErrorOverlay_s226h_1",ok="_ErrorBox_s226h_13",lk="_ErrorBoxClose_s226h_30",_u={ErrorOverlay:sk,ErrorBox:ok,ErrorBoxClose:lk};function ak(t){return y.jsx("div",{className:_u.ErrorBoxClose,onClick:t.onClose,children:""})}function uk(){const t=ik(),e=t.errors.concat().sort((n,r)=>n.created<r.created?-1:1).reverse();return y.jsx("div",{className:_u.ErrorOverlay,children:e.map(n=>y.jsxs("div",{className:_u.ErrorBox,children:[y.jsx("div",{children:y.jsx("b",{children:"ERROR"})}),y.jsx("div",{children:n.message}),y.jsx(ak,{err:n,onClose:()=>t.remove(n)})]},n.created))})}function ck(t){const[e,n]=$.useState([]),r=$.useCallback(l=>{n(a=>a.concat({created:Date.now(),message:l}))},[n]),i=$.useCallback(l=>{n(a=>a.filter(u=>u.created!=l.created))},[n]),s=$.useMemo(()=>({reportError:r}),[r]),o={reportError:r,errors:e,remove:i};return y.jsx(K_.Provider,{value:o,children:y.jsx(Q_.Provider,{value:s,children:t.children})})}const dk="_Clickable_1xxa7_1",fk="_Attendence_1xxa7_6",vh={Clickable:dk,Attendence:fk};function q_(t){const e={[$e.No]:"",[$e.Yes]:"",[$e.Maybe]:"???",[$e.Undefined]:"-"}[t.attendence],n={[$e.No]:{color:"red",fontSize:"1.2em"},[$e.Yes]:{color:"green"},[$e.Maybe]:{color:"blue"},[$e.Undefined]:{color:"grey"}}[t.attendence],r=$.useCallback(()=>{if(!t.isEditing)return;const s=Zl[(Zl.indexOf(t.attendence)+1)%Zl.length];t.onUpdate(s)},[t]),i=[vh.Attendence,...t.isEditing?[vh.Clickable]:[]].join(" ");return y.jsx("div",{className:i,onClick:r,children:y.jsx("div",{style:n,children:e})})}const hk="_ScheduleView_gzjtc_1",pk="_ScheduleHighlight_gzjtc_9",mk="_ScheduleDesktop_gzjtc_18",gk="_ScheduleMobile_gzjtc_20",_k="_Update_gzjtc_50",yk="_ScheduleMobileButtonRow_gzjtc_71",vk="_ScheduleMobileOverlay_gzjtc_121",wk="_ScheduleMobileModal_gzjtc_134",Ie={ScheduleView:hk,ScheduleHighlight:pk,ScheduleDesktop:mk,ScheduleMobile:gk,Update:_k,ScheduleMobileButtonRow:yk,ScheduleMobileOverlay:vk,ScheduleMobileModal:wk};function wh(t){const[e,n]=$.useState(mu(t.user)),{reportError:r}=ed();$.useEffect(()=>{n(mu(t.user))},[t.user,t.isEditing]);const i=()=>{if(!e.label)return r("Cannot save with empty name!");t.onSave(e)};return y.jsxs("tr",{children:[y.jsx("td",{children:y.jsx("div",{children:t.isEditing?y.jsx("input",{placeholder:"your name here",value:e.label,onChange:s=>n({...e,label:s.target.value})}):y.jsx("span",{children:e.label})})}),t.options.map(s=>y.jsx("td",{className:(s.highlight?[Ie.ScheduleHighlight]:[]).join(" "),children:y.jsx("div",{children:y.jsx(q_,{attendence:H_(s,e),isEditing:t.isEditing,onUpdate:o=>n(G_(s,e,o))})})},s.isoStart)),t.isEditing?y.jsx("td",{children:y.jsxs("div",{style:{flexDirection:"row"},children:[y.jsx("button",{onClick:i,children:"SAVE"}),y.jsx("button",{onClick:t.onCancel,children:t.isTemp?"RESET":"BACK"}),!t.isTemp&&y.jsx("button",{onClick:t.onDelete,children:"DEL"})]})}):y.jsx("td",{children:y.jsx("div",{children:y.jsx("button",{onClick:t.onEdit,children:"EDIT"})})})]})}function Sh(t){const{dayOfWeek:e,dayOfWeekAbbr:n,dd:r,mm:i,time:s}=V_(t.eventDate);return y.jsxs("div",{children:[y.jsx("div",{children:t.shorten?n:e}),y.jsxs("div",{children:[i,"/",r]}),y.jsx("div",{style:{marginTop:"0.5em"},children:s})]})}function td(t){const e=mt.fromIso(t.option.isoStart,bt.Default),n=ek({...t,guests:t.emails??[]});return y.jsxs("div",{children:[t.onToggle&&y.jsx("div",{children:y.jsx("button",{onClick:t.onToggle,children:"toggle"})}),t.option.highlight?y.jsx("a",{href:n,children:y.jsx(Sh,{eventDate:e,shorten:t.shorten})}):y.jsx(Sh,{eventDate:e,shorten:t.shorten})]})}const Sk=new class{constructor(){In(this,"userLabel",new tk(localStorage,"user-label"))}};function Ek(t){const[e,n]=$.useState(),[r,i]=$.useState(js()),s=t.schedule.options,o=Object.values(t.schedule.user).sort((a,u)=>a.created<u.created?-1:1),l=a=>{const u=t.schedule.options.map(c=>({...c,highlight:c.isoStart===a.isoStart?!c.highlight:c.highlight}));t.api.updateOptions(u)};return y.jsx("div",{className:Ie.ScheduleDesktop,children:y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Name"}),s.map(a=>y.jsx("th",{className:[Ie.EventTime].concat(a.highlight?[Ie.ScheduleHighlight]:[]).join(" "),children:y.jsx(td,{schedule:t.schedule,emails:t.emails,option:a,onToggle:t.admin?()=>l(a):void 0})},a.isoStart)),y.jsx("th",{className:Ie.Update,children:y.jsx("div",{children:"Update?"})})]})}),y.jsxs("tbody",{children:[o.map(a=>y.jsx(wh,{options:s,user:a,isEditing:a.uid===e,isTemp:!1,onEdit:()=>n(a.uid),onDelete:()=>t.api.removeUser(a),onSave:u=>{n(void 0),a.label!==u.label&&Sk.userLabel.set(u.label),t.api.updateUser(u)},onCancel:()=>n(void 0)},a.uid)),y.jsx(wh,{options:s,user:r,isEditing:!0,isTemp:!0,onEdit:()=>{},onDelete:()=>{},onSave:a=>{i(js()),t.api.createUser(a)},onCancel:()=>i(js())})]})]})})}function Ck(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ll(t){const e=n=>{!n.defaultPrevented&&n.button===0&&!Ck(n)&&(n.preventDefault(),t.onClick())};return y.jsx("a",{href:t.href,onClick:n=>e(n),children:t.children})}function al(t){$.useEffect(()=>{const e=t?["CH",t].join(" | "):"Cat Herder";document.title!=e&&(document.title=e)},[t])}function Eh(t){const[e,n]=$.useState(mu(t.user)),{reportError:r}=ed(),i=()=>{if(!e.label)return r("Cannot save with empty name!");t.onSave(e)};return y.jsx("div",{className:Ie.ScheduleMobileOverlay,onClick:t.onExit,children:y.jsxs("div",{className:Ie.ScheduleMobileModal,onClick:s=>s.stopPropagation(),children:[y.jsx("h2",{children:t.isNew?"New RSVP":"Edit RSVP"}),y.jsx("div",{children:y.jsx("input",{placeholder:"your name here",value:e.label,onChange:s=>n({...e,label:s.target.value})})}),y.jsxs("div",{className:Ie.ScheduleMobileButtonRow,children:[y.jsx("button",{onClick:i,children:"Save"}),y.jsx("button",{onClick:t.onExit,children:"Cancel"})]}),y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Date"}),y.jsx("th",{children:"Attending"})]})}),y.jsx("tbody",{children:t.schedule.options.map(s=>y.jsxs("tr",{className:[Ie.ScheduleMobileRow].concat(s.highlight?[Ie.ScheduleHighlight]:[]).join(" "),children:[y.jsx("td",{children:y.jsx(td,{schedule:t.schedule,option:s,shorten:!0})}),y.jsx("td",{children:y.jsx("div",{children:y.jsx(q_,{attendence:H_(s,e),isEditing:!0,onUpdate:o=>n(G_(s,e,o))})})})]},s.isoStart))})]}),!t.isNew&&y.jsx("div",{children:y.jsx("button",{onClick:t.onDelete,children:"Delete"})})]})})}function Ik(t){const{schedule:e,api:n,onExit:r}=t,[i,s]=$.useState(null);if(i==="new")return y.jsx(Eh,{schedule:e,user:js(),isNew:!0,onSave:l=>{n.createUser(l),r()},onDelete:()=>{},onExit:r});if(i!==null)return y.jsx(Eh,{schedule:e,user:i,isNew:!1,onSave:l=>{n.updateUser(l),r()},onDelete:()=>{n.removeUser(i),r()},onExit:r});const o=Object.values(e.user).sort((l,a)=>l.created<a.created?-1:1);return y.jsx("div",{className:Ie.ScheduleMobileOverlay,onClick:r,children:y.jsxs("div",{className:Ie.ScheduleMobileModal,onClick:l=>l.stopPropagation(),children:[y.jsx("h2",{children:"RSVP"}),y.jsxs("div",{className:Ie.ScheduleMobileButtonRow,children:[y.jsx("button",{onClick:()=>s("new"),children:"Sign Up"}),y.jsx("button",{onClick:r,children:"Cancel"})]}),y.jsx("h2",{children:"Edit Existing"}),o.map(l=>y.jsx("div",{children:y.jsx("button",{onClick:()=>s(l),children:l.label})},l.created))]})})}function kk(t){const[e,n]=$.useState(!1),r=t.schedule.options,i=Object.values(t.schedule.user).sort((s,o)=>s.created<o.created?-1:1);return y.jsxs("div",{className:Ie.ScheduleMobile,children:[y.jsx("div",{children:y.jsx("button",{onClick:()=>n(!0),children:"RSVP"})}),y.jsx("br",{}),y.jsxs("table",{children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:"Date"}),y.jsx("th",{children:"Attending"})]})}),y.jsx("tbody",{children:r.map(s=>y.jsxs("tr",{className:[Ie.ScheduleMobileRow].concat(s.highlight?[Ie.ScheduleHighlight]:[]).join(" "),children:[y.jsx("td",{children:y.jsx(td,{schedule:t.schedule,emails:t.emails,option:s,shorten:!0})}),y.jsxs("td",{children:[y.jsx("ol",{children:i.filter(o=>o.attending.includes(s.isoStart)).map(o=>y.jsx("li",{children:o.label},[s.isoStart,o.uid,"attending"].join("-")))}),y.jsx("ul",{children:i.filter(o=>o.maybe.includes(s.isoStart)).map(o=>y.jsx("li",{children:y.jsx("i",{children:o.label})},[s.isoStart,o.uid,"maybe"].join("-")))})]})]},s.isoStart))})]}),e&&y.jsx(Ik,{...t,onExit:()=>n(!1)})]})}function Tk(t){const e=$.useRef(t);return $.useEffect(()=>{e.current=t},[t]),e.current}function xk(t){const[e,n]=$.useState([]),r=Tk(e);$.useEffect(()=>{const o=a=>{(!t||t.includes(a.code))&&n(u=>u.filter(c=>c!==a.code).concat(a.code))},l=a=>{(!t||t.includes(a.code))&&n(u=>u.filter(c=>c!==a.code))};return window.addEventListener("keydown",o),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",l)}},[t]);const i=e.filter(o=>!r.includes(o)),s=r.filter(o=>!e.includes(o));return{holding:e,pressed:i,released:s}}function Nk(t,...e){const[n,r]=$.useState(!1),i=$.useMemo(()=>[t,...e],[t,e]),{pressed:s}=xk(i);return $.useEffect(()=>{s.filter(o=>i.includes(o)).length===1&&r(o=>!o)},[s,i]),{admin:n,setAdmin:r}}function Dk(t){const{admin:e}=Nk("Backquote"),[n,r]=$.useState(),[i,s]=$.useState();al(n==null?void 0:n.name),$.useEffect(()=>{t.api.getEmails().then(s);const l=t.api.connect(a=>r(a));return()=>{l.then(a=>a())}},[t]);const o={group:t.api.init.group};return window.schedule=n,y.jsx("div",{className:Ie.ScheduleView,children:n===void 0?y.jsx("h1",{children:"loading..."}):y.jsxs(y.Fragment,{children:[e&&y.jsx("h2",{style:{color:"red"},children:"ADMIN ENABLED"}),y.jsx("h1",{children:y.jsx(ll,{href:is(o),onClick:()=>t.setEventLookup(o),children:n.name})}),y.jsxs("h3",{children:[y.jsx("div",{children:n.description}),y.jsxs("div",{style:{color:"#444"},children:["Today is ",mt.now(bt.Local).localPretty]})]}),y.jsx(Ek,{schedule:n,api:t.api,admin:e,emails:i}),y.jsx(kk,{schedule:n,api:t.api,emails:i})]})})}const Rk="_BasicView_nwj40_1",nd={BasicView:Rk};function Pk(t){const{eventLookup:e,setEventLookup:n}=t,r=mt.fromEventID(e.eventID,bt.Default);return y.jsx(ll,{href:is(e),onClick:()=>n(e),children:r.localPretty})}function Ok(t){const{group:e,setEventLookup:n}=t,[r,i]=$.useState(),[s,o]=$.useState();return al(e),$.useEffect(()=>{It.instance.listGroupEvents(e).then(l=>i(l.concat().sort())).catch(l=>o(l))},[e,i]),y.jsxs("div",{className:nd.BasicView,children:[y.jsx("h1",{children:e}),!s&&!r&&"loading...",r&&r.concat().reverse().map(l=>y.jsx("div",{children:y.jsx(Pk,{...t,eventLookup:{group:e,eventID:l}})},l)),s&&y.jsxs("div",{children:["This group was not found."," ",y.jsx(ll,{href:is({}),onClick:()=>n({}),children:"Please try again."})]})]})}function Ak(t){const[e,n]=$.useState("");return al(),y.jsxs("div",{className:nd.BasicView,children:[y.jsx("h1",{children:"Cat Herder"}),y.jsx("div",{children:"a tool for herding cats"}),y.jsx("br",{}),y.jsxs("form",{onSubmit:r=>{r.preventDefault();const i={group:e};t.setEventLookup(i)},children:[y.jsx("input",{placeholder:"enter group name",value:e,onChange:r=>n(r.target.value.toLowerCase())})," ",y.jsx("button",{type:"submit",children:"submit"})]})]})}const Mk="_EmailPreview_1al6f_1",Lk={EmailPreview:Mk};function Fk(t){const[e,n]=$.useState(""),[r,i]=$.useState();al("Admin");const{reportError:s}=ed(),o=$.useCallback(l=>{(async()=>{const a=await fetch(`https://cat-herder-api.mpaulweeks.com/preview/${l}`,{method:"POST"});if(a.ok){const u=await a.json();i(u)}else i(void 0),s(`preview fetch failed with ${a.status}`)})()},[i]);return y.jsxs("div",{className:nd.BasicView,children:[y.jsx("h1",{children:"Admin"}),y.jsxs("section",{children:[y.jsx("div",{children:y.jsx(ll,{href:is({}),onClick:()=>t.setEventLookup({}),children:"Go Back"})}),y.jsx("div",{children:y.jsx("a",{href:`https://${pu.projectId}-default-rtdb.firebaseio.com/db.json`,children:"Events JSON"})}),y.jsx("div",{children:y.jsx("a",{href:`https://${pu.projectId}-default-rtdb.firebaseio.com/email.json`,children:"Email JSON"})})]}),y.jsx("section",{children:y.jsxs("form",{onSubmit:l=>{l.preventDefault(),o(e)},children:[y.jsx("input",{value:e,onChange:l=>n(l.target.value.toLocaleLowerCase())}),y.jsx("button",{type:"submit",children:"preview"})]})}),r&&y.jsxs("section",{className:Lk.EmailPreview,children:[y.jsxs("div",{children:[y.jsx("b",{children:"Subject:"})," ",r.subject]}),y.jsx("div",{children:y.jsx("b",{children:"To:"})}),[].concat(r.to).map(l=>y.jsx("div",{children:l},l)),y.jsx("iframe",{srcDoc:r.body})]})]})}const bk=Oh.memo(t=>{const[e,n]=$.useState(t.initialEventLookup);$.useEffect(()=>{window.history.pushState(null,"",is(e))},[e]);const{group:r,eventID:i}=e;if(r==="admin")return y.jsx(Fk,{setEventLookup:n});if(r&&i){const s=new VI({group:r,eventID:i});return y.jsx(Dk,{api:s,setEventLookup:n})}return r?y.jsx(Ok,{group:r,setEventLookup:n}):y.jsx(Ak,{setEventLookup:n})});function jk(){const t=$.useMemo(()=>nk(window.location.href),[]);return y.jsxs(ck,{children:[y.jsx(bk,{initialEventLookup:t}),y.jsx(uk,{})]})}window.EventDate=mt;window.FirebaseApi=It;window.addEventListener("popstate",()=>{window.location=window.location.href});ea.createRoot(document.getElementById("root")).render(y.jsx(Oh.StrictMode,{children:y.jsx(jk,{})}));
